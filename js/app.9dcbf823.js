(function(t){function e(e){for(var s,i,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)i=r[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&h.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==n[c]&&(s=!1)}s&&(o.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},o=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"044e":function(t,e,a){},"27d3":function(t,e,a){},"377d":function(t,e,a){"use strict";a("9b23")},"396a":function(t,e,a){"use strict";a("5937")},"39e6":function(t,e,a){},"3a89":function(t,e,a){"use strict";a("615e")},"49d7":function(t,e,a){},"4e5e":function(t,e,a){"use strict";a("27d3")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("7a23"),n=a("9aa5"),o=a.n(n),i={id:"app"};function r(t,e,a,n,o,r){var c=Object(s["m"])("Controls"),l=Object(s["m"])("Header"),u=Object(s["m"])("Main"),d=Object(s["m"])("UserSettings"),h=Object(s["m"])("LoginPrompt"),p=Object(s["m"])("Footer");return Object(s["i"])(),Object(s["d"])("div",i,["embed"!==o.state.mode?(Object(s["i"])(),Object(s["d"])(c,{key:0,state:o.state},null,8,["state"])):Object(s["e"])("",!0),"embed"!==o.state.mode?(Object(s["i"])(),Object(s["d"])(l,{key:1,state:o.state},null,8,["state"])):Object(s["e"])("",!0),Object(s["h"])(u,{state:o.state},null,8,["state"]),o.state.userSettingsVisible?(Object(s["i"])(),Object(s["d"])(d,{key:2,state:o.state},null,8,["state"])):Object(s["e"])("",!0),o.state.loginPromptVisible?(Object(s["i"])(),Object(s["d"])(h,{key:3,state:o.state},null,8,["state"])):Object(s["e"])("",!0),Object(s["h"])(p,{state:o.state},null,8,["state"])])}a("99af"),a("4de4"),a("c975"),a("d81d"),a("b0c0"),a("d3b7"),a("ac1f"),a("5319"),a("841c"),a("1276"),a("498a");var c=a("ade3"),l=Object(s["v"])("data-v-1bf912d7");Object(s["k"])("data-v-1bf912d7");var u={key:0},d={key:0,class:"flex"},h={key:1,style:{"font-size":"1.5em"}},p=Object(s["h"])("br",null,null,-1),g=Object(s["h"])("br",null,null,-1),f=Object(s["h"])("br",null,null,-1),b=Object(s["h"])("br",null,null,-1),m=Object(s["h"])("br",null,null,-1),k=Object(s["g"])("OOPS! "),j=Object(s["h"])("br",null,null,-1),O=Object(s["h"])("br",null,null,-1),D=Object(s["h"])("br",null,null,-1),y=Object(s["g"])("this track could not be found! "),w={key:1,style:{"font-size":"1.5em"}},v=Object(s["h"])("br",null,null,-1),Q=Object(s["h"])("br",null,null,-1),T=Object(s["h"])("br",null,null,-1),P=Object(s["h"])("br",null,null,-1),U=Object(s["h"])("br",null,null,-1),x=Object(s["g"])("OOPS!! "),C=Object(s["h"])("br",null,null,-1),A=Object(s["h"])("br",null,null,-1),I=Object(s["h"])("br",null,null,-1),S=Object(s["g"])("this track could not be found! "),N={key:0,class:"flex"},L={key:1,style:{"font-size":"1.5em"}},R=Object(s["h"])("br",null,null,-1),M=Object(s["h"])("br",null,null,-1),B=Object(s["h"])("br",null,null,-1),E=Object(s["g"])("OOPS! "),V=Object(s["h"])("br",null,null,-1),F=Object(s["g"])("we seem to be missing some tracks! "),H=Object(s["h"])("br",null,null,-1),z=Object(s["h"])("br",null,null,-1),W=Object(s["g"])(" :("),q=Object(s["h"])("br",null,null,-1),J=Object(s["h"])("br",null,null,-1),K=Object(s["g"])(" maybe try a different search? "),G={key:0},X={key:0,class:"flex"},Y={key:1,style:{"font-size":"1.5em"}},$=Object(s["h"])("br",null,null,-1),Z=Object(s["h"])("br",null,null,-1),_=Object(s["h"])("br",null,null,-1),tt=Object(s["h"])("br",null,null,-1),et=Object(s["g"])("OOPS! "),at=Object(s["h"])("br",null,null,-1),st=Object(s["h"])("br",null,null,-1),nt=Object(s["h"])("br",null,null,-1),ot=Object(s["g"])("uploaded any tracks yet! "),it=Object(s["h"])("br",null,null,-1),rt=Object(s["h"])("br",null,null,-1),ct=Object(s["h"])("br",null,null,-1),lt=Object(s["g"])(" :( "),ut={key:1},dt={key:0,class:"flex"},ht={key:1,style:{"font-size":"2em"}},pt=Object(s["h"])("br",null,null,-1),gt=Object(s["h"])("br",null,null,-1),ft=Object(s["h"])("br",null,null,-1),bt={style:{width:"300px","padding-left":"50px","margin-left":"auto","margin-right":"auto","text-align":"left"}},mt={key:2,style:{"font-size":"1.5em"}},kt=Object(s["h"])("br",null,null,-1),jt=Object(s["g"])("DRAT! "),Ot=Object(s["h"])("br",null,null,-1),Dt=Object(s["h"])("br",null,null,-1),yt=Object(s["g"])("your search did not return anything! "),wt=Object(s["h"])("br",null,null,-1),vt=Object(s["h"])("br",null,null,-1),Qt=Object(s["g"])(" maybe try something more general,"),Tt=Object(s["h"])("br",null,null,-1),Pt=Object(s["g"])('like "whitehot robot" '),Ut=Object(s["h"])("br",null,null,-1),xt=Object(s["h"])("br",null,null,-1),Ct=Object(s["h"])("br",null,null,-1),At=Object(s["g"])(" :( ");Object(s["j"])();var It=l((function(t,e,a,n,o,i){var r=Object(s["m"])("Track");return Object(s["i"])(),Object(s["d"])("div",{class:["main",{footerPadding:"track"==a.state.mode}]},[""==a.state.search.string?(Object(s["i"])(),Object(s["d"])("div",u,["track"!=a.state.mode&&"embed"!=a.state.mode||!a.state.tracks.length||null==a.state.tracks[0]||"undefined"==typeof a.state.tracks[0].id?!a.state.loaded||"track"!=a.state.mode&&"embed"!=a.state.mode?Object(s["e"])("",!0):(Object(s["i"])(),Object(s["d"])("div",w,[v,Q,T,P,U,x,C,A,I,S])):(Object(s["i"])(),Object(s["d"])("div",{key:0,class:["trackDiv",{highTop:a.state.showControls}]},[a.state.tracks.length?(Object(s["i"])(),Object(s["d"])("div",d,[(Object(s["i"])(!0),Object(s["d"])(s["a"],null,Object(s["l"])(a.state.tracks,(function(t){return Object(s["i"])(),Object(s["d"])(r,{key:t.id,track:t,state:a.state},null,8,["track","state"])})),128))])):!a.state.loaded||"track"!=a.state.mode&&"embed"!=a.state.mode?Object(s["e"])("",!0):(Object(s["i"])(),Object(s["d"])("div",h,[p,g,f,b,m,k,j,O,D,y]))],2)),"default"==a.state.mode?(Object(s["i"])(),Object(s["d"])("div",{key:2,class:["trackDiv",{highTop:a.state.showControls}]},[i.filteredLandingPageTracks.length?(Object(s["i"])(),Object(s["d"])("div",N,[(Object(s["i"])(!0),Object(s["d"])(s["a"],null,Object(s["l"])(i.filteredLandingPageTracks,(function(t){return Object(s["i"])(),Object(s["d"])(r,{key:t.id,track:t,state:a.state},null,8,["track","state"])})),128))])):a.state.loaded?(Object(s["i"])(),Object(s["d"])("div",L,[R,M,B,E,V,F,H,z,W,q,J,K])):Object(s["e"])("",!0)],2)):Object(s["e"])("",!0),"u"==a.state.mode?(Object(s["i"])(),Object(s["d"])("div",{key:3,class:["trackDiv",{highTop:a.state.showControls}]},[a.state.loaded&&a.state.user.name?(Object(s["i"])(),Object(s["d"])("div",G,[i.filteredUserTracks.length?(Object(s["i"])(),Object(s["d"])("div",X,[(Object(s["i"])(!0),Object(s["d"])(s["a"],null,Object(s["l"])(i.filteredUserTracks,(function(t){return Object(s["i"])(),Object(s["d"])(r,{key:t.id,track:t,state:a.state},null,8,["track","state"])})),128))])):a.state.loaded?(Object(s["i"])(),Object(s["d"])("div",Y,[$,Z,_,tt,et,at,st,Object(s["g"])(Object(s["o"])(a.state.user.name)+" has not",1),nt,ot,it,rt,ct,lt])):Object(s["e"])("",!0)])):Object(s["e"])("",!0)],2)):Object(s["e"])("",!0)])):(Object(s["i"])(),Object(s["d"])("div",ut,[Object(s["h"])("div",{class:["trackDiv",{highTop:a.state.showControls}]},[a.state.search.audiocloudTracks.length?(Object(s["i"])(),Object(s["d"])("div",dt,[(Object(s["i"])(!0),Object(s["d"])(s["a"],null,Object(s["l"])(a.state.search.audiocloudTracks,(function(t){return Object(s["i"])(),Object(s["d"])(r,{key:t.id,track:t,state:a.state},null,8,["track","state"])})),128))])):Object(s["e"])("",!0),a.state.search.inProgress?(Object(s["i"])(),Object(s["d"])("div",ht,[pt,gt,ft,Object(s["h"])("div",bt,Object(s["o"])(i.searchingText),1)])):!a.state.search.audiocloudTracks.length&&a.state.loaded?(Object(s["i"])(),Object(s["d"])("div",mt,[kt,jt,Ot,Dt,yt,wt,vt,Qt,Tt,Pt,Ut,xt,Ct,At])):Object(s["e"])("",!0)],2)]))],2)})),St=(a("38cf"),a("a4d3"),a("e01a"),Object(s["v"])("data-v-74461c61"));Object(s["k"])("data-v-74461c61");var Nt={key:0,class:"embedCode"},Lt={class:"embedCodeInner"},Rt={key:2,class:"trackElem",style:{display:"inline-block",width:"490px",float:"left"}},Mt={style:{"word-break":"keep-all",display:"inline-block"}},Bt={key:3,class:"trackElem",style:{width:"400px","text-align":"center"}},Et={style:{"margin-left":"20px","word-break":"keep-all",display:"inline-block"}},Vt=Object(s["h"])("div",{style:{clear:"both"}},null,-1),Ft={key:0},Ht=Object(s["h"])("td",{class:"tdLeft"},"description ",-1),zt={class:"tdRight"},Wt={key:0,class:"trackElem"},qt={key:1,class:"trackElem"},Jt=Object(s["h"])("td",{class:"tdLeft"},"date added ",-1),Kt={class:"tdRight"},Gt=Object(s["h"])("td",{class:"tdLeft"},"duration ",-1),Xt={class:"tdRight"},Yt=Object(s["h"])("td",{class:"tdLeft"},"share ",-1),$t={class:"tdRight"},Zt={key:0},_t=Object(s["h"])("td",{class:"tdLeft"},null,-1),te={class:"tdRight",style:{"padding-right":"30px"}},ee=Object(s["h"])("span",{class:"checkmark"},null,-1),ae=Object(s["h"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8"}},"private",-1),se={class:"tdLeft"},ne=Object(s["h"])("span",{class:"checkmark"},null,-1),oe=Object(s["h"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8"}},"allow public download",-1),ie={ref:"canvas",class:"canvas"},re={key:4,class:"commentContainer"},ce=Object(s["h"])("div",{class:"commentsHeader",style:{background:"linear-gradient(90deg, #102f, #1023, #0000)",display:"inline-block","padding-right":"200px","padding-left":"10px",color:"#2f4","margin-bottom":"10px",height:"25px","line-height":"20px","margin-left":"-10px"}}," comments ",-1),le={key:0},ue={class:"commentMain"},de={key:0,class:"commentUserName",style:{"font-size":"20px"}},he=Object(s["h"])("br",null,null,-1),pe={key:1,style:{display:"inline-block",width:"calc(100% + 30px)"}},ge={key:2,style:{display:"inline-block",width:"calc(100% + 10px)",left:"0!important","padding-right":"0"}},fe=Object(s["h"])("div",{style:{clear:"both"}},null,-1),be={key:0,style:{"text-align":"center"}},me=Object(s["h"])("span",{style:{display:"inline-block","font-size":"32px"}},"...",-1),ke={key:1},je=Object(s["h"])("div",{style:{"text-align":"center"}},"-- no comments --",-1),Oe={key:0,style:{"text-align":"center"}},De={key:2},ye=Object(s["h"])("div",{style:{clear:"both"}},null,-1);Object(s["j"])();var we=St((function(t,e,a,n,o,i){var r=Object(s["n"])("linkified");return Object(s["i"])(),Object(s["d"])("div",{class:["trackContainer",{singleTrack:"track"==a.state.mode,embedTrack:"embed"==a.state.mode}],ref:"trackContainer"+a.track.id},[o.showEmbedCode?(Object(s["i"])(),Object(s["d"])("div",Nt,[Object(s["h"])("div",Lt,[Object(s["h"])("div",{class:["embedcodetext",{pulse:o.pulse}],ref:"embedCodeText"+a.track.id},Object(s["o"])(i.embedCodeText),3),Object(s["h"])("button",{onClick:e[1]||(e[1]=function(t){return i.copyDivToClipboard("embedCodeText"+a.track.id)}),class:["embedbutton copytoclipbutton",{pulse:o.pulse}]},"     copy",2),Object(s["h"])("button",{onClick:e[2]||(e[2]=function(t){return o.showEmbedCode=!1}),class:"embedbutton"},"close")])])):Object(s["e"])("",!0),Object(s["h"])(s["b"],{name:"fadePulse"},{default:St((function(){return[o.showPulse?(Object(s["i"])(),Object(s["d"])("div",{key:0,style:{position:"absolute",width:"100%",background:"#0f0","z-index":"-1","margin-left":"-10px","margin-top":"-10px","border-radius":"10px"},ref:"pulse"+a.track.id},null,512)):Object(s["e"])("",!0)]})),_:1}),a.state.loggedinUserName.toUpperCase()==a.track.author.toUpperCase()||a.state.isAdmin?(Object(s["i"])(),Object(s["d"])("button",{key:1,class:"deleteTrackButton",onClick:e[3]||(e[3]=function(t){return i.deleteTrack(a.track)})})):Object(s["e"])("",!0),Object(s["h"])("div",{class:"avatar",style:"float: left;max-width: 100px;background-image:url("+a.state.getAvatar(a.track.userID)+");width:100px;height:100px;background-repeat: no-repeat; background-position: center center; background-size: cover;"},null,4),Object(s["h"])("a",{href:a.state.baseURL+"/u/"+a.track.author,target:"_blank",class:"link",innerHTML:a.track.author,style:{float:"left"}},null,8,["href","innerHTML"]),a.state.loggedinUserName.toUpperCase()==a.track.author.toUpperCase()||a.state.isAdmin?(Object(s["i"])(),Object(s["d"])("div",Rt,[Object(s["s"])(Object(s["h"])("input",{maxlength:"128",class:[{success:1==o.updated["trackName"],failure:-1==o.updated["trackName"]},"textInput"],style:{width:"350px",float:"left"},placeholder:"track name",onInput:e[4]||(e[4]=function(t){return i.updateTrackItem(a.track.id,"trackName")}),type:"text","onUpdate:modelValue":e[5]||(e[5]=function(t){return a.track.trackName=t})},null,34),[[s["r"],a.track.trackName]]),Object(s["h"])("span",Mt,Object(s["o"])(a.track.plays+" view"+(1!=a.track.plays?"s":"")),1)])):(Object(s["i"])(),Object(s["d"])("div",Bt,[Object(s["h"])("span",{class:"trackTitle",innerHTML:'"'+a.track.trackName+'"',style:{"font-size":"26px","font-style":"oblique",color:"#0f8","word-break":"break-word"}},null,8,["innerHTML"]),Object(s["h"])("span",Et,Object(s["o"])(a.track.plays+" view"+(a.track.plays>1?"s":"")),1)])),Vt,Object(s["h"])("table",null,[a.track.description||a.state.loggedinUserName.toUpperCase()==a.track.author.toUpperCase()||a.state.isAdmin?(Object(s["i"])(),Object(s["d"])("tr",Ft,[Ht,Object(s["h"])("td",zt,[a.state.loggedinUserName.toUpperCase()==a.track.author.toUpperCase()||a.state.isAdmin?(Object(s["i"])(),Object(s["d"])("div",Wt,[Object(s["s"])(Object(s["h"])("input",{maxlength:"256",class:[{success:1==o.updated["description"],failure:-1==o.updated["description"]},"textInput"],onInput:e[6]||(e[6]=function(t){return i.updateTrackItem(a.track.id,"description")}),type:"text","onUpdate:modelValue":e[7]||(e[7]=function(t){return a.track.description=t})},null,34),[[s["r"],a.track.description]])])):(Object(s["i"])(),Object(s["d"])("div",qt,[Object(s["h"])("span",{class:"date",innerHTML:a.track.description},null,8,["innerHTML"])]))])])):Object(s["e"])("",!0),Object(s["h"])("tr",null,[Jt,Object(s["h"])("td",Kt,[Object(s["h"])("span",{class:"date",innerHTML:i.formattedDate(a.track.date)},null,8,["innerHTML"])])]),Object(s["h"])("tr",null,[Gt,Object(s["h"])("td",Xt,[Object(s["h"])("span",{class:"date",innerHTML:i.formattedDuration()},null,8,["innerHTML"])])]),Object(s["h"])("tr",null,[Yt,Object(s["h"])("td",$t,[Object(s["h"])("a",{class:"fileLink",target:"_blank",href:a.state.baseURL+"/track/"+a.state.decToAlpha(a.track.id),innerHTML:"/"+a.state.decToAlpha(a.track.id)},null,8,["href","innerHTML"]),1==a.track.allowDownload||a.state.loggedinUserName.toUpperCase()==a.track.author.toUpperCase()||a.state.isAdmin?(Object(s["i"])(),Object(s["d"])("a",{key:0,class:"fileLink",href:"/audio/"+a.track.audioFile.split("/")[a.track.audioFile.split("/").length-1],download:a.track.author+" - "+a.track.trackName+a.track.audioFile.substring(a.track.audioFile.length-4).toLowerCase(),style:{"margin-left":"10px"}}," download file ",8,["href","download"])):Object(s["e"])("",!0),1==a.track.allowDownload||a.state.loggedinUserName.toUpperCase()==a.track.author.toUpperCase()||a.state.isAdmin?(Object(s["i"])(),Object(s["d"])("button",{key:1,class:"fileLink",href:"/audio/"+a.track.audioFile.split("/")[a.track.audioFile.split("/").length-1],download:a.track.author+" - "+a.track.trackName+a.track.audioFile.substring(a.track.audioFile.length-4).toLowerCase(),style:{"margin-left":"10px","padding-left":"12px","padding-right":"12px","min-width":"initial"},onClick:e[8]||(e[8]=function(t){return o.showEmbedCode=!0})}," embed code ",8,["href","download"])):Object(s["e"])("",!0)])])]),Object(s["h"])("table",null,[a.state.loggedinUserName.toUpperCase()==a.track.author.toUpperCase()||a.state.isAdmin?(Object(s["i"])(),Object(s["d"])("tr",Zt,[_t,Object(s["h"])("td",te,[(Object(s["i"])(),Object(s["d"])("label",{for:"privateCheckbox"+a.track.id,key:"cblabel"+a.track.id,class:"checkboxLabel",style:{"padding-top":"5px","margin-bottom":"0px",display:"inline-block","margin-left":"100px"},title:"omit this post from the home page"},[Object(s["s"])((Object(s["i"])(),Object(s["d"])("input",{type:"checkbox",key:"cbkey"+a.track.id,id:"privateCheckbox"+a.track.id,"onUpdate:modelValue":e[9]||(e[9]=function(t){return a.track.private=t}),onInput:e[10]||(e[10]=function(t){return i.updateTrackItem(a.track.id,"private")})},null,40,["id"])),[[s["p"],a.track.private]]),ee,ae],8,["for"]))]),Object(s["h"])("td",se,[(Object(s["i"])(),Object(s["d"])("label",{for:"allowdlCheckbox"+a.track.id,key:"cblabel"+a.track.id,class:"checkboxLabel",style:{"padding-top":"3px","margin-bottom":"0px",display:"inline-block","margin-left":"10px"},title:"allow public download"},[Object(s["s"])((Object(s["i"])(),Object(s["d"])("input",{type:"checkbox",key:"cbkeydl"+a.track.id,id:"allowdlCheckbox"+a.track.id,"onUpdate:modelValue":e[11]||(e[11]=function(t){return a.track.allowDownload=t}),onInput:e[12]||(e[12]=function(t){return i.updateTrackItem(a.track.id,"allowDownload")})},null,40,["id"])),[[s["p"],a.track.allowDownload]]),ne,oe],8,["for"]))])])):Object(s["e"])("",!0)]),Object(s["h"])("div",{class:["audioContainer",{embedAudioContainer:"embed"==a.state.mode}]},[a.track.playing?(Object(s["i"])(),Object(s["d"])("button",{key:1,class:["pausebutton",{disabledPauseButton:!a.track.canPlay}],onClick:e[14]||(e[14]=function(t){return i.playPauseTrack()})},null,2)):(Object(s["i"])(),Object(s["d"])("button",{key:0,class:["playbutton",{disabledPlayButton:!a.track.canPlay}],onClick:e[13]||(e[13]=function(t){return i.playPauseTrack()}),title:"play/pause track [space]"},null,2)),Object(s["h"])("button",{onClick:e[15]||(e[15]=function(t){return o.loop=!o.loop}),class:["smallControlButton loopButton",{highlighted:o.loop}],title:"loop track"},null,2),Object(s["h"])("button",{class:"smallControlButton resetButton",onClick:e[16]||(e[16]=function(t){return i.resetTrack()}),title:"start of track (or prev. track if pos<dur/20) [left arrow key]"}),Object(s["h"])("button",{class:"smallControlButton jumpToNextButton",onClick:e[17]||(e[17]=function(t){a.track.mp3.currentTime=Math.max(6e6,a.track.mp3.duration-.1),o.skipRedraw&&(o.B=[],i.Draw(o.skipRedraw=!1))}),title:"play next track [right arrow key]"}),Object(s["h"])("canvas",ie,null,512)],2),"embed"!=a.state.mode?(Object(s["i"])(),Object(s["d"])("div",re,[ce,a.track.comments.length?(Object(s["i"])(),Object(s["d"])("div",le,[(Object(s["i"])(!0),Object(s["d"])(s["a"],null,Object(s["l"])(i.filteredComments,(function(t){return Object(s["i"])(),Object(s["d"])("div",null,[Object(s["h"])("div",ue,[Object(s["h"])("span",{class:"timestamp",innerHTML:i.processedTimestamp(t.date),style:{float:"right",display:"inline-block!important"}},null,8,["innerHTML"]),"undefined"!=typeof a.state.userInfo[t.userID]?(Object(s["i"])(),Object(s["d"])("span",de,[Object(s["h"])("div",{class:[{bumpUp:-1!==a.state.userAgent.toUpperCase().indexOf("FIREFOX")},"commentAvatar"],style:"background-image:url("+a.state.getAvatar(t.userID)+");width:50px!important;height:50px!important;background-repeat: no-repeat; background-position: center center; background-size: cover;"},null,6),Object(s["h"])("a",{href:a.state.baseURL+"/u/"+a.state.userInfo[t.userID].name,target:"_blank",style:{color:"#4dc!important","font-style":"oblique","margin-left":"5px"}},Object(s["o"])(a.state.userInfo[t.userID].name),9,["href"])])):Object(s["e"])("",!0),he,t.editing&&a.state.loggedin?(Object(s["i"])(),Object(s["d"])("div",pe,[Object(s["s"])(Object(s["h"])("input",{maxlength:"1024",type:"text",ref:"comment"+t.id,class:["commentInput textInput",{success:1==t.updated,failure:-1==t.updated}],style:{width:"calc(100% - 100px)"},onInput:function(e){return i.editComment(t)},"onUpdate:modelValue":function(e){return t.text=e}},null,42,["onInput","onUpdate:modelValue"]),[[s["r"],t.text]]),t.userID==a.state.loggedinUserID||a.state.isAdmin?(Object(s["i"])(),Object(s["d"])("button",{key:0,onClick:function(e){return t.editing=!t.editing},class:"commentEditButton",style:{"min-width":"0",margin:"0","margin-top":"-1px",height:"25px",left:"0"}},null,8,["onClick"])):Object(s["e"])("",!0),Object(s["h"])("button",{onClick:function(e){return i.deleteComment(t,a.track)},class:"commentDeleteButton",style:{"min-width":"0",margin:"0","margin-top":"-1px",height:"25px",left:"0"}},null,8,["onClick"])])):(Object(s["i"])(),Object(s["d"])("div",ge,[Object(s["s"])(Object(s["h"])("span",{class:"commentText",innerHTML:t.text,style:{width:"calc(100% - 68px)"}},null,8,["innerHTML"]),[[r]]),t.userID==a.state.loggedinUserID||a.state.isAdmin?(Object(s["i"])(),Object(s["d"])("button",{key:0,onClick:function(e){return i.toggleEditMode(t)},class:"commentEditButton",style:{"min-width":"0",margin:"0","margin-top":"-1px",height:"25px",left:"0",display:"inline-block","background-image":"url(https://jsbot.cantelope.org/uploads/2cyWBg.png)"}},null,8,["onClick"])):Object(s["e"])("",!0)])),fe])])})),256)),i.moreComments?(Object(s["i"])(),Object(s["d"])("div",be,[me,Object(s["h"])("button",{class:"loadCommentsButton",onClick:e[18]||(e[18]=function(t){return i.incrComments()})},"load more comments")])):Object(s["e"])("",!0)])):(Object(s["i"])(),Object(s["d"])("div",ke,[je,a.state.loggedin?Object(s["e"])("",!0):(Object(s["i"])(),Object(s["d"])("div",Oe,"(log in to comment on this track)"))])),a.state.loggedin?(Object(s["i"])(),Object(s["d"])("div",De,[Object(s["h"])("input",{maxlength:"1024",onKeyup:e[19]||(e[19]=Object(s["t"])((function(t){return i.postComment(a.track.id)}),["enter"])),ref:"newComment"+a.track.id,placeholder:"say something...",class:"commentInput newComment textInput",style:{"margin-left":"0","margin-top":"16px"}},null,544),Object(s["h"])("button",{onClick:e[20]||(e[20]=function(t){return i.postComment(a.track.id)}),style:{background:"#1ca",padding:"0","padding-bottom":"4px",margin:"0","margin-left":"25px",display:"block","margin-top":"14px","min-width":"initial","padding-left":"10px","padding-right":"10px",float:"left"}},"post"),ye])):Object(s["e"])("",!0)])):Object(s["e"])("",!0)],2)})),ve=(a("cb29"),a("84c3"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),{name:"Main",props:["state","track"],data:function(){return{t:0,loop:!1,trackAmplitude:[],marquisTimer:null,showComments:3,skipRedraw:!1,moreCommentsVal:5,pulse:!1,showEmbedCode:!1,x:null,B:[],P:[],audioCtx:null,updated:{title:0,favicon:0},trackdata:[],c:null,percentLoaded:0,showPulse:!0,duration:0,trackAnalyzed:!1,bufferLength:null,analyzer:null,fftsize:256}},methods:{copyDivToClipboard:function(t){var e=this,a=document.createRange();a.selectNode(this.$refs[t]),window.getSelection().removeAllRanges(),window.getSelection().addRange(a),document.execCommand("copy"),window.getSelection().removeAllRanges(),this.pulse=!0,setTimeout((function(){return e.pulse=!1}),200)},resetTrack:function(){this.track.mp3.currentTime<this.track.mp3.duration/20?(this.skipRedraw&&(this.B=[],this.Draw(this.skipRedraw=!1)),this.state.playPreviousTrack()):(this.track.mp3.currentTime=0,this.skipRedraw&&(this.B=[],this.Draw(this.skipRedraw=!1)))},doMarquis:function(){if(this.track.playing){var t=this.track.author+" - "+this.track.trackName,e=this.marquisTimer++%t.length;document.title=t.substring(e)+"  -  "+t.substring(0,e)}},incrComments:function(){this.showComments+=this.moreCommentsVal},toggleEditMode:function(t){var e=this;t.editing=!t.editing,t.editing&&this.$nextTick((function(){e.$refs["comment"+t.id].focus(),e.$refs["comment"+t.id].select()}))},deleteComment:function(t,e){if(confirm("are you SURE you want to delete this comment?!?!?\n\n\nTHIS ACTION IS IRREVERSIBLE!")){var a=t.id,s={userName:this.state.loggedinUserName,passhash:this.state.passhash,commentID:a};fetch(this.state.baseURL+"/deleteComment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(t){t[0]&&(e.comments=e.comments.filter((function(t){return t.id!=a})))}))}},editComment:function(t){var e=t.id,a=this.$refs["comment"+e].value,s={userName:this.state.loggedinUserName,comment:a,passhash:this.state.passhash,commentID:e};fetch(this.state.baseURL+"/updateComment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(e){e[0]?(t.updated=1,setTimeout((function(){return t.updated=0}),1e3)):(t.updated=-1,setTimeout((function(){return t.updated=0}),1e3))}))},postComment:function(t){var e=this,a=this.$refs["newComment"+t].value;if(a.length){var s={userName:this.state.loggedinUserName,comment:a,passhash:this.state.passhash,trackID:t};fetch(this.state.baseURL+"/postComment.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(s){if(s[0]){var n={userID:e.state.loggedinUserID,text:a,trackID:t,id:s[1],date:s[2]};if(e.state.search.string)e.state.search.audiocloudTracks.filter((function(e){return e.id==t}))[0].comments.push(n);else switch(e.state.mode){case"u":e.state.user.audiocloudTracks.filter((function(e){return e.id==t}))[0].comments.push(n);break;case"default":e.state.landingPage.audiocloudTracks.filter((function(e){return e.id==t}))[0].comments.push(n);break;case"track":e.state.tracks.filter((function(e){return e.id==t}))[0].comments.push(n);break}e.$refs["newComment"+t].value=""}}))}},processedTimestamp:function(t){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=Array(7).fill(""),s=[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11],n=new Date(Date.parse(t.replace(/-/g,"/"))),o=""+n.getMinutes();return 1==o.length&&(o="0"+o),s[n.getHours()]+":"+o+(n.getHours<12?"AM":"PM")+" - "+a[n.getDay()]+e[n.getMonth()]+" "+n.getDate()+" "+n.getFullYear()},deleteTrack:function(t){var e=this;if(confirm('\n\n\nAre you SURE you want to delete this track??!?!\n\n\n     Track: "'+t.trackName+'"\n     created: '+this.formattedDate(t.date)+"\n\n\nThis action is IRREVERSIBLE!!!!")){this.track.mp3.pause();var a={userName:this.state.loggedinUserName,trackID:+t.id,passhash:this.state.passhash};fetch(this.state.baseURL+"/deleteTrack.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(t){return t.json()})).then((function(a){if(e.state.search.string)e.state.search.audiocloudTracks=e.state.search.audiocloudTracks.filter((function(e){return e.id!=t.id}));else switch(e.state.mode){case"u":e.state.user.audiocloudTracks=e.state.user.audiocloudTracks.filter((function(e){return e.id!=t.id}));break;case"default":e.state.landingPage.audiocloudTracks=e.state.landingPage.audiocloudTracks.filter((function(e){return e.id!=t.id}));break;case"track":e.state.tracks=e.state.tracks.filter((function(e){return e.id!=t.id}));break}}))}},updateTrackItem:function(t,e){var a,s=this;if(this.state.search.string)a=this.state.search.audiocloudTracks.filter((function(e){return e.id==t}))[0][e];else switch(this.state.mode){case"default":a=this.state.landingPage.audiocloudTracks.filter((function(e){return e.id==t}))[0][e];break;case"track":a=this.state.tracks.filter((function(e){return e.id==t}))[0][e];break;case"u":a=this.state.user.audiocloudTracks.filter((function(e){return e.id==t}))[0][e];break}"private"==e&&(a=a?0:1),"allowDownload"==e&&(a=a?0:1);var n={userName:this.state.loggedinUserName,item:e,newItemVal:a,passhash:this.state.passhash,trackID:t};fetch(this.state.baseURL+"/updateTrackItem.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()})).then((function(t){t[0]?(s.updated[e]=1,setTimeout((function(){return s.updated[e]=0}),1e3)):(s.updated[e]=-1,setTimeout((function(){return s.updated[e]=0}),1e3))}))},formattedDuration:function(){return(this.duration/60/60|0)+" hr : "+(this.duration/60|0)+" min : "+(60*(this.duration/60-(this.duration/60|0))|0)+" seconds"},formattedDate:function(t){var e=["January","February","March","April","May","June","July","August","September","October","November","December"],a=new Date(t),s=""+a.getMinutes();return 1==s.length&&(s="0"+s),e[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear()+" • "+(a.getHours()%12+1)+":"+s+" "+(a.getHours()<12?"AM":"PM")},playPauseTrack:function(){this.track.playing?this.track.playing=!1:(this.state.pauseVisible(),this.track.playing=!0)},Draw:function(){if(!this.skipRedraw){var t=this.t,e=this.x,a=this.c;Math.sin,Math.cos;if(e.fillStyle="#0006",e.fillRect(0,0,a.width,a.height),e.lineJoin=e.lineCap="round",this.trackAnalyzed&&"undefined"!==typeof this.track.mp3&&"undefined"!=typeof this.track.leftChannelData){e.fillStyle="#000",e.fillRect(0,0,a.width,a.height);var s=256;e.strokeStyle="#affa",e.beginPath();var n=this.track.mp3.currentTime/this.track.mp3.duration;e.lineTo(a.width*n,0),e.lineTo(a.width*n,a.height),e.lineWidth=2+a.width/400|0,e.stroke();for(var o=s;o--;){var i=void 0,r=void 0,c=void 0,l=void 0;this.track.playing?(i="hsla(".concat(360/s*o+300*-t+0,", 99%,50%,.75)"),c="hsla(".concat(360/s*o+300*-t+180,", 99%,50%,.75)")):(i="hsla(".concat(360/s*o/4+50*t+0,", 15%, 50%, .75)"),c="hsla(".concat(360/s*o/4+50*t+180,", 15%, 50%, .75)")),r="hsla(".concat(360/s*o/4+50*t+90,", 15%, 50%, .75)"),l="hsla(".concat(360/s*o/4+50*t+270,", 15%, 50%, .75)"),e.beginPath(),e.lineTo(a.width/s*o,a.height/2);var u=this.track.leftChannelData.length/s*o|0,d=Math.abs(this.track.leftChannelData[u])*a.height/2;e.lineTo(a.width/s*o,a.height/2+d),e.strokeStyle=o<=n*s?i:r,e.stroke(),e.beginPath(),e.lineTo(a.width/s*o,a.height/2),u=this.track.rightChannelData.length/s*o|0,d=Math.abs(this.track.rightChannelData[u])*a.height/2,e.lineTo(a.width/s*o,a.height/2-d),e.strokeStyle=o<=n*s?c:l,e.stroke()}if(this.trackAnalyzed){for(var h=20;h--;)this.B.push([a.width*n,Math.random()*a.height,.01]);this.B=this.B.map((function(t){var a=(t[0]-=t[2]/2)-2,s=t[1];return t[2]+=.05+t[2]/25,e.fillStyle="hsla(200,99%,80%,".concat(.05/(1+Math.pow(1+t[2],2)/40),")"),e.fillRect(a,s-2.5,5,5),t})).filter((function(t){return t[0]>0}))}"undefined"!=typeof this.track.mp3.currentTime&&(e.font="16px Play",e.fillStyle="#4fc8",e.fillText(this.formattedCurrentTime(),a.width-120,16))}else{var p;e.fillStyle="#0fa2",e.fillRect(0,0,a.width*this.percentLoaded/100,a.height),e.font="26px Play",e.fillStyle="#2fa8",e.fillText("<"+"-".repeat((60*t|0)%16)+"loading"+"-".repeat(p=(60*t|0)%16)+">",a.width/2-60-9.3*p,a.height/2+10)}this.t+=1/60,!this.track.playing&&this.trackAnalyzed&&(this.skipRedraw=!0),requestAnimationFrame(this.Draw)}},formattedCurrentTime:function(){var t=this.track.mp3.currentTime/60/60|0,e=60*(this.track.mp3.currentTime/60/60-t)|0,a=60*(60*(this.track.mp3.currentTime/60/60-t)-e)|0;t=""+t,e=""+e,a=""+a,0==t.length&&(t="00"),1==t.length&&(t="0"+t),0==e.length&&(e="00"),1==e.length&&(e="0"+e),0==a.length&&(a="00"),1==a.length&&(a="0"+a);var s,n=(+t?t+":":"")+e+":"+a;return t=(s=this.track.mp3.duration-this.track.mp3.currentTime)/60/60|0,e=60*(s/60/60-t)|0,a=60*(60*(s/60/60-t)-e)|0,t=""+t,e=""+e,a=""+a,0==t.length&&(t="00"),1==t.length&&(t="0"+t),0==e.length&&(e="00"),1==e.length&&(e="0"+e),0==a.length&&(a="00"),1==a.length&&(a="0"+a),n+"  ( -"+(+t?t+":":"")+e+":"+a+")"},stringToUint:function(t){t=btoa(unescape(encodeURIComponent(t)));for(var e=t.split(""),a=[],s=0;s<e.length;s++)a.push(e[s].charCodeAt(0));return new Uint16Array(a)}},computed:{embedCodeText:function(){return'<iframe style="transform:scale(.75);width:640px;height:400px;border:none;vertical-align:top;" src="'+this.state.baseURL+"/embed/"+this.state.decToAlpha(this.track.id)+'"></iframe>'},filteredComments:function(){var t=this;return this.track.comments.filter((function(e,a){return a<t.showComments}))},moreComments:function(){return this.track.comments.length>this.showComments}},watch:{"track.jump":function(t){var e=this;if(t){var a=this.$refs["trackContainer"+this.track.id];window.scroll(0,a.offsetTop-80+(this.state.showControls?-160:0)),this.showPulse=!0,this.$nextTick((function(){e.$refs["pulse"+e.track.id].style.width=e.$refs["trackContainer"+e.track.id].clientWidth+"px",e.$refs["pulse"+e.track.id].style.height=e.$refs["trackContainer"+e.track.id].clientHeight+"px"})),this.$nextTick((function(){e.showPulse=!1}))}},"track.playing":function(t){var e=this;t?this.$nextTick((function(){e.track.mp3.play(),e.state.curPlayId=e.track.id,e.$nextTick((function(){e.skipRedraw&&(e.skipRedraw=!1,e.Draw())}))})):this.track.mp3.pause()}},beforeUnmount:function(){"undefined"!==typeof this.track.mp3&&(this.track.mp3.pause(),this.track.mp3.src="")},mounted:function(){var t=this;if(this.track.jump=0,setInterval((function(){t.doMarquis()}),300),this.c=this.$refs.canvas,this.c.addEventListener("click",(function(e){if(t.trackAnalyzed){var a=e.offsetX/t.c.clientWidth;t.track.mp3.currentTime=t.track.mp3.duration*a,t.state.pauseVisible(),t.track.playing||(t.track.playing=!1,t.$nextTick((function(){t.skipRedraw,t.track.playing=!0})))}})),this.c.width=this.c.clientWidth,this.c.height=this.c.clientHeight,window.addEventListener("resize",(function(){t.c.width=t.c.clientWidth,t.c.height=t.c.clientHeight,t.skipRedraw&&(t.skipRedraw=!1,t.Draw())})),this.x=this.c.getContext("2d"),this.t=0,"undefined"==typeof this.track.mp3){this.track.mp3=new Audio,this.track.mp3.addEventListener("ended",(function(){t.state.playall&&!t.loop?t.state.playNextTrack():t.loop?(t.track.mp3.currentTime=0,t.track.playing=!1,t.$nextTick((function(){t.track.playing=!0}))):t.track.playing=!1})),this.track.mp3.addEventListener("canplay",(function(){"undefined"!==typeof t.track.mp3&&(t.duration=t.track.mp3.duration,t.track.canPlay=!0,"track"==t.state.mode&&(t.track.playing=!1,t.$nextTick((function(){t.track.playing=!0}))))})),this.track.mp3.src=this.track.audioFile;var e=window.AudioContext||window.webkitAudioContext;this.audioCtx=new e;var a=new XMLHttpRequest;a.open("GET",this.track.audioFile,!0),a.responseType="arraybuffer",a.onprogress=function(e){t.percentLoaded=Math.round(e.loaded/e.total*100*100)/100},a.onload=function(){var e=a.response;t.audioCtx.decodeAudioData(e,(function(e){t.trackAnalyzed=!0,t.track.leftChannelData=e.getChannelData(0),t.track.rightChannelData=e.getChannelData(1)}))},"track"==this.state.mode&&document.getElementsByTagName("html")[0].scroll(0,document.getElementsByTagName("html")[0].clientHeight/3.5),a.send()}else this.trackAnalyzed=!0;this.track.playing&&this.$nextTick((function(){t.track.mp3.play()})),this.Draw()}});a("9dd5");ve.render=we,ve.__scopeId="data-v-74461c61";var Qe=ve,Te={name:"Main",components:{Track:Qe},props:["state"],methods:{},computed:{filteredLandingPageTracks:function(){return this.state.landingPage.audiocloudTracks},filteredUserTracks:function(){var t=this;return null!=this.state.user&&"undefined"!==typeof this.state.user.audiocloudTracks?this.state.user.audiocloudTracks.filter((function(e){return!e.private||t.state.loggedinUserName.toUpperCase()==t.state.user.name.toUpperCase()||t.state.isAdmin})):[]},searchingText:function(){return"Searching"+".".repeat((20*this.state.globalT|0)%8)}},mounted:function(){}};a("3a89"),a("396a");Te.render=It,Te.__scopeId="data-v-1bf912d7";var Pe=Te,Ue=Object(s["v"])("data-v-2661741f");Object(s["k"])("data-v-2661741f");var xe={class:"controlsWorkingSpace"},Ce={key:0},Ae={class:"navContainer"},Ie={key:0,class:"advancedControls"},Se=Object(s["h"])("div",{style:{position:"absolute","z-index":"-1!important",background:"#246",width:"505px",height:"70px",opacity:".5","margin-top":"-10px","margin-left":"60px","border-radius":"5px"}},null,-1),Ne={for:"allWords",key:"allwordslabel",class:"checkboxLabel",style:{float:"left",padding:"0",margin:"0","margin-left":"40px","padding-top":"5px","margin-bottom":"0px",display:"inline-block"}},Le=Object(s["h"])("span",{class:"checkmark",style:{"margin-left":"-30px"}},null,-1),Re=Object(s["h"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0"}},"require all words",-1),Me=Object(s["h"])("br",null,null,-1),Be={for:"exact",key:"exactlabel",class:"checkboxLabel",style:{float:"left","margin-left":"40px","text-align":"left"}},Ee=Object(s["h"])("span",{class:"checkmark",style:{"margin-left":"-30px"}},null,-1),Ve=Object(s["h"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0","margin-left":"-35px"}},"exact",-1),Fe=Object(s["h"])("div",{style:{clear:"both"}},null,-1),He={key:0,style:{position:"absolute",left:"50%","margin-left":"-100px","margin-top":"-80px"}},ze={for:"playall",class:"checkboxLabel",style:{margin:"0",padding:"0","margin-left":"25px","padding-left":"32px"}},We=Object(s["h"])("span",{class:"checkmark",style:{"margin-top":"-5px"}},null,-1),qe=Object(s["h"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0"}},"play all",-1),Je={for:"shuffle",class:"checkboxLabel",style:{display:"inline-block",margin:"0",padding:"0","margin-left":"50px"}},Ke=Object(s["h"])("span",{class:"checkmark",style:{"margin-left":"-30px","margin-top":"-5px"}},null,-1),Ge=Object(s["h"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0"}},"shuffle",-1),Xe={for:"disco",class:"checkboxLabel",style:{display:"inline-block",margin:"0","margin-left":"24px","padding-left":"32px"}},Ye=Object(s["h"])("span",{class:"checkmark",style:{"margin-left":"0px","margin-top":"-5px"}},null,-1),$e=Object(s["h"])("span",{style:{"font-size":".8em","margin-top":"0px",display:"block",color:"#ff8",padding:"0"}},"disco",-1),Ze=Object(s["f"])('<option value="1" data-v-2661741f>1</option><option value="2" data-v-2661741f>2</option><option value="4" data-v-2661741f>4</option><option value="6" data-v-2661741f>6</option><option value="10" data-v-2661741f>10</option><option value="20" data-v-2661741f>20</option><option style="background:#ff0;color:#000;" value="30" data-v-2661741f>30</option><option style="background:#f80;color:#000;" value="40" data-v-2661741f>40</option><option style="background:#800;color:#fff;" value="50" data-v-2661741f>50</option>',9),_e={key:2,class:"maxResultsLabel",style:{color:"#ff8"}},ta={key:1,class:"advancedControls"},ea={for:"disco",style:{"margin-left":"20px"}},aa=Object(s["g"])("disco ");Object(s["j"])();var sa=Ue((function(t,e,a,n,o,i){return a.state.showUploadModal?Object(s["e"])("",!0):(Object(s["i"])(),Object(s["d"])("div",{key:0,class:["controls",{shortControlsContainer:!a.state.showControls}]},[Object(s["h"])("div",xe,[Object(s["h"])("div",{onClick:e[1]||(e[1]=function(){var t;return a.state.toggleShowControls&&(t=a.state).toggleShowControls.apply(t,arguments)}),title:"show additional controls [ESC]",class:{showImg:!a.state.showControls,hideImg:a.state.showControls,bump:"track"==a.state.mode},style:{"margin-top":"-70px"}},null,2),Object(s["h"])(s["b"],{name:"fade"},{default:Ue((function(){return[a.state.showControls?(Object(s["i"])(),Object(s["d"])("div",Ce,[Object(s["h"])("div",Ae,["track"!==a.state.mode?(Object(s["i"])(),Object(s["d"])("div",Ie,[Se,Object(s["s"])(Object(s["h"])("input",{id:"searchInput",type:"text",spellcheck:"false",ref:"searchInput","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.state.search.string=t}),onInput:e[3]||(e[3]=function(t){return a.state.beginSearch(1)}),placeholder:"search",class:"textInput searchInput",style:{display:"inline-block",float:"left","margin-bottom":"25px","margin-left":"75px","margin-top":"15px",position:"relative!important: z-index:10000!important"}},null,544),[[s["r"],a.state.search.string]]),Object(s["h"])("label",Ne,[Object(s["s"])(Object(s["h"])("input",{type:"checkbox",disabled:a.state.search.exact,checked:a.state.search.allWords||a.state.search.exact,id:"allWords","onUpdate:modelValue":e[4]||(e[4]=function(t){return a.state.search.allWords=t}),onInput:e[5]||(e[5]=function(t){return a.state.beginSearch(1)})},null,40,["disabled","checked"]),[[s["p"],a.state.search.allWords]]),Le,Re]),Me,Object(s["h"])("label",Be,[Object(s["s"])(Object(s["h"])("input",{type:"checkbox",id:"exact","onUpdate:modelValue":e[6]||(e[6]=function(t){return a.state.search.exact=t}),onInput:e[7]||(e[7]=function(t){return a.state.beginSearch(1)})},null,544),[[s["p"],a.state.search.exact]]),Ee,Ve]),Fe,a.state.search.hits?(Object(s["i"])(),Object(s["d"])("div",He," ("+Object(s["o"])(a.state.search.hits)+" hits) ",1)):Object(s["e"])("",!0),Object(s["h"])("label",ze,[Object(s["s"])(Object(s["h"])("input",{type:"checkbox",id:"playall","onUpdate:modelValue":e[8]||(e[8]=function(t){return a.state.playall=t}),onInput:e[9]||(e[9]=function(t){return i.updateUserPrefs("audiocloudPlayAll")})},null,544),[[s["p"],a.state.playall]]),We,qe]),Object(s["h"])("label",Je,[Object(s["s"])(Object(s["h"])("input",{type:"checkbox",id:"shuffle","onUpdate:modelValue":e[10]||(e[10]=function(t){return a.state.shuffle=t}),onInput:e[11]||(e[11]=function(t){return i.updateUserPrefs("audiocloudShuffle")})},null,544),[[s["p"],a.state.shuffle]]),Ke,Ge]),Object(s["h"])("label",Xe,[Object(s["s"])(Object(s["h"])("input",{type:"checkbox",id:"disco","onUpdate:modelValue":e[12]||(e[12]=function(t){return a.state.disco=t}),onInput:e[13]||(e[13]=function(t){return i.updateUserPrefs("audiocloudDisco")})},null,544),[[s["p"],a.state.disco]]),Ye,$e]),a.state.loggedin&&"track"!=a.state.mode?Object(s["s"])((Object(s["i"])(),Object(s["d"])("select",{key:1,style:{"font-size":"18px","margin-left":"20px","vertical-align":"top","margin-top":"-4px",border:"1px solid #8ff4",display:"inline-block",position:"relative"},"onUpdate:modelValue":e[14]||(e[14]=function(t){return a.state.maxResultsPerPage=t}),onChange:e[15]||(e[15]=function(t){return i.updateUserPrefs("audiocloudNumTracksPerPage")})},[Ze],544)),[[s["q"],a.state.maxResultsPerPage]]):Object(s["e"])("",!0),a.state.loggedin?(Object(s["i"])(),Object(s["d"])("span",_e,"max results")):Object(s["e"])("",!0),Object(s["h"])("button",{class:"navButton",style:{"margin-left":"10px","font-size":"12px","min-height":"20px",height:"20px",width:"50px","margin-top":"-1px","vertical-align":"top"},title:"hotkeys",onClick:e[16]||(e[16]=function(t){return i.showHotkeys()})},"hotkeys")])):(Object(s["i"])(),Object(s["d"])("div",ta,[Object(s["h"])("label",ea,[Object(s["s"])(Object(s["h"])("input",{id:"disco",onInput:e[17]||(e[17]=function(t){return i.updateUserPrefs("audiocloudDisco")}),type:"checkbox","onUpdate:modelValue":e[18]||(e[18]=function(t){return a.state.disco=t})},null,544),[[s["p"],a.state.disco]]),aa])]))])])):Object(s["e"])("",!0)]})),_:1})])],2))})),na={name:"Controls",props:["state"],data:function(){return{}},methods:{showHotkeys:function(){alert("hotkeys cheat-sheet...\n\n    [space] : play/pause current track\n    [right-key] : advance to the next song (shuffle applies)\n    [left-key] : restart track if pos > 5%, else prev. track (shuffle applies)\n    [shift+right-key] : advance track by 10s\n    [shift+left-key] : rewind track by 10s\n    [ESC] : show/hide advanced controls section\n    [enter] : jump to current playing track")},updateUserPrefs:function(t){var e=this;this.$nextTick((function(){var a;switch(t){case"audiocloudPlayAll":a=e.state.playall?0:1;break;case"audiocloudShuffle":a=e.state.shuffle?0:1;break;case"audiocloudDisco":a=e.state.disco?0:1;break;case"audiocloudNumTracksPerPage":a=e.state.maxResultsPerPage;break}var s={userName:e.state.loggedinUserName,passhash:e.state.passhash,pref:t,newval:a};fetch(e.state.baseURL+"/updatePrefs.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(e){"audiocloudNumTracksPerPage"==t&&window.location.reload()}))}))},doReg:function(){this.state.showRegister=!0,this.state.showLoginPrompt()}},watch:{"state.showControls":function(t){var e=this;t&&this.$nextTick((function(){e.$refs.searchInput.focus(),e.$refs.searchInput.select()}))}},computed:{trackPlaying:function(){var t=!1;return"undefined"!=typeof this.state.currentTrack&&"function"==typeof this.state.currentTrack&&this.state.currentTrack()&&(t=!!this.state.currentTrack().length),t},totalPages:function(){switch(this.state.mode){case"u":return+this.state.totalUserPages;case"default":return+this.state.totalPages}},curPage:function(){switch(this.state.mode){case"u":return+this.state.curUserPage;case"default":return+this.state.curPage}},pagenumber:function(){var t;switch(this.state.mode){case"u":t="Page "+(this.state.curUserPage+1)+" of "+this.state.totalUserPages;break;case"default":t="Page "+(this.state.curPage+1)+" of "+this.state.totalPages;break}return t}}};a("e8ae"),a("af21");na.render=sa,na.__scopeId="data-v-2661741f";var oa=na,ia=Object(s["v"])("data-v-0a6bcff8");Object(s["k"])("data-v-0a6bcff8");var ra={class:"header",id:"header"},ca={key:0,class:"uploadProgressContainer"},la=Object(s["h"])("br",null,null,-1),ua={class:"progressBar"},da={class:"progressBarInnerOutline"},ha={class:"uploadModalInner"},pa=Object(s["h"])("span",{style:{"font-size":"2em",color:"#888"}},"upload tracks",-1),ga=Object(s["h"])("br",null,null,-1),fa=Object(s["h"])("br",null,null,-1),ba=Object(s["h"])("br",null,null,-1),ma=Object(s["g"])("valid formats"),ka=Object(s["h"])("br",null,null,-1),ja=Object(s["h"])("br",null,null,-1),Oa=Object(s["g"])(" MP3, OGG, WAV"),Da=Object(s["h"])("br",null,null,-1),ya=Object(s["h"])("br",null,null,-1),wa=Object(s["h"])("br",null,null,-1),va=Object(s["h"])("span",{style:{"font-size":"1.4em",color:"#ff0"}},"drop file(s) here...",-1),Qa=Object(s["h"])("br",null,null,-1),Ta=Object(s["h"])("br",null,null,-1),Pa=Object(s["g"])("or"),Ua=Object(s["h"])("br",null,null,-1),xa=Object(s["h"])("br",null,null,-1),Ca=Object(s["h"])("br",null,null,-1),Aa=Object(s["h"])("br",null,null,-1),Ia={key:2,style:{display:"inline-block",position:"absolute"}},Sa={key:3,style:{display:"inline-block",position:"absolute"}},Na={class:"workingSpace"},La={class:"loggedinDiv"},Ra={key:0,class:"loggedInTitle"},Ma=Object(s["h"])("span",{style:{color:"#afe","font-size":"16px"}},"Welcome,",-1),Ba=Object(s["h"])("br",null,null,-1),Ea=Object(s["h"])("div",{class:"appNameText"},[Object(s["h"])("div",{style:{display:"inline-block",transform:"scalex(1.2)","margin-right":"10px"}}," whitehot "),Object(s["h"])("br"),Object(s["h"])("div",{style:{display:"inline-block",transform:"scalex(2.05)","margin-right":"30px"}}," robot "),Object(s["h"])("br"),Object(s["g"])(" audiocloud ")],-1),Va=Object(s["h"])("div",{class:"clear"},null,-1);Object(s["j"])();var Fa=ia((function(t,e,a,n,o,i){var r=Object(s["m"])("Account");return Object(s["i"])(),Object(s["d"])("div",ra,[o.showUploadProgress?(Object(s["i"])(),Object(s["d"])("div",ca,[la,Object(s["g"])("uploading "+Object(s["o"])(o.filesUploading.length)+" file"+Object(s["o"])(o.filesUploading.length>1?"s":"")+"... ",1),(Object(s["i"])(!0),Object(s["d"])(s["a"],null,Object(s["l"])(o.filesUploading,(function(t){return Object(s["i"])(),Object(s["d"])("div",ua,[Object(s["h"])("div",da,[Object(s["h"])("div",{class:"progressBarInner",style:"width:calc("+t.perc+"%)"},null,4)]),Object(s["h"])("span",{class:"progressText",innerHTML:t.trackName+" - "+Math.round(100*t.perc)/100+"%"},null,8,["innerHTML"])])})),256))])):Object(s["e"])("",!0),a.state.showUploadModal?(Object(s["i"])(),Object(s["d"])("div",{key:1,class:["uploadModal",{dragover:o.dragover}],onDrop:e[3]||(e[3]=Object(s["u"])((function(){return i.processDrop&&i.processDrop.apply(i,arguments)}),["prevent"])),onDragover:e[4]||(e[4]=Object(s["u"])((function(){return i.dragOverHandler&&i.dragOverHandler.apply(i,arguments)}),["prevent"])),onDragleave:e[5]||(e[5]=Object(s["u"])((function(){return i.dragLeaveHandler&&i.dragLeaveHandler.apply(i,arguments)}),["prevent"]))},[Object(s["h"])("div",ha,[pa,ga,fa,ba,ma,ka,ja,Oa,Da,ya,wa,va,Qa,Ta,Pa,Ua,xa,Object(s["h"])("button",{onClick:e[1]||(e[1]=function(t){return i.uploadManual()}),style:{background:"#0f0","max-width":"400px"}},"manually select one from your device"),Ca,Aa,Object(s["h"])("button",{onClick:e[2]||(e[2]=function(t){return a.state.showUploadModal=!1}),style:{background:"#400",color:"#fee","font-weight":"400"}},"cancel")])],34)):Object(s["e"])("",!0),a.state.loggedin?(Object(s["i"])(),Object(s["d"])("div",Sa,["track"!=a.state.mode?(Object(s["i"])(),Object(s["d"])("button",{key:0,class:["navButton jumpButton",{disabled:!i.trackPlaying}],onClick:e[7]||(e[7]=function(t){return a.state.jumpToPlayingTrack()}),title:"jump to playing track"},null,2)):Object(s["e"])("",!0),Object(s["h"])("button",{class:[{bumpDown:"track"==a.state.mode},"uploadButton"],onClick:e[8]||(e[8]=function(t){return i.startUpload()})},"upload",2)])):(Object(s["i"])(),Object(s["d"])("div",Ia,["track"!=a.state.mode?(Object(s["i"])(),Object(s["d"])("button",{key:0,class:["navButton jumpButton",{disabled:!i.trackPlaying}],onClick:e[6]||(e[6]=function(t){return a.state.jumpToPlayingTrack()}),title:"jump to playing track [ctrl+y]"},null,2)):Object(s["e"])("",!0)])),(a.state.totalPages>0||a.state.totalUserPages>0)&&"track"!=a.state.mode||a.state.search.string&&a.state.totalPages>1?(Object(s["i"])(),Object(s["d"])("div",{key:4,class:["curPageContainer",{bumpLeft:!a.state.loggedin}]},[Object(s["h"])("button",{class:["navButton",{disabled:i.curPage<1}],disabled:i.curPage<1,onClick:e[9]||(e[9]=function(t){return a.state.firstPage()})}," << ",10,["disabled"]),Object(s["h"])("button",{class:["navButton",{disabled:i.curPage<1}],disabled:i.curPage<1,onClick:e[10]||(e[10]=function(t){return a.state.regressPage()})}," < ",10,["disabled"]),Object(s["g"])(" "+Object(s["o"])(i.pagenumber)+" ",1),Object(s["h"])("button",{class:["navButton",{disabled:i.totalPages==i.curPage+1}],disabled:i.totalPages==i.curPage+1,onClick:e[11]||(e[11]=function(t){return a.state.advancePage()})}," > ",10,["disabled"]),Object(s["h"])("button",{class:["navButton",{disabled:i.totalPages==i.curPage+1}],disabled:i.totalPages==i.curPage+1,onClick:e[12]||(e[12]=function(t){return a.state.lastPage()})}," >> ",10,["disabled"])],2)):Object(s["e"])("",!0),Object(s["h"])("div",Na,[Object(s["h"])("div",La,[a.state.loggedin?(Object(s["i"])(),Object(s["d"])("div",Ra,[Ma,Ba,Object(s["h"])("a",{href:"/u/"+a.state.loggedinUserName,innerHTML:i.truncate(a.state.loggedinUserName)},null,8,["href","innerHTML"])])):Object(s["e"])("",!0),Object(s["h"])(r,{state:a.state},null,8,["state"])]),Object(s["h"])("div",{class:"infoButton",title:"about whitehot robot",onClick:e[13]||(e[13]=function(t){return i.launchInfoPage()})}),Object(s["h"])("a",{href:i.origin,class:"appName"},[Ea,Va],8,["href"])])])})),Ha=(a("4160"),a("a630"),a("a15b"),a("3ca3"),a("159b"),{class:"account"}),za={key:1,class:"userButtonContainer"};function Wa(t,e,a,n,o,i){return Object(s["i"])(),Object(s["d"])("div",Ha,[a.state.loggedin?(Object(s["i"])(),Object(s["d"])("div",za,[Object(s["h"])("button",{onClick:e[2]||(e[2]=function(t){return i.logout()}),class:"userbutton"},"logout"),Object(s["h"])("button",{onClick:e[3]||(e[3]=function(t){return i.showSettings()}),class:"userbutton"},"settings")])):(Object(s["i"])(),Object(s["d"])("button",{key:0,onClick:e[1]||(e[1]=function(t){return i.toggleLogin()}),class:"loginButton"},"log in / register "))])}var qa={name:"Account",props:["state"],methods:{showSettings:function(){this.state.showUserSettings()},logout:function(){this.state.logout()},toggleLogin:function(){this.state.loggedin||this.state.showLoginPrompt()}}};a("4e5e");qa.render=Wa;var Ja=qa,Ka={components:{Account:Ja},data:function(){return{dragover:!1,showUploadProgress:!1,filesUploading:[]}},name:"Header",props:["state"],methods:{launchInfoPage:function(){var t=document.createElement("a");t.setAttribute("href","https://whitehotrobot.dweet.net/about"),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),t.parentNode.removeChild(t)},updateUserPrefs:function(t){var e=this;this.$nextTick((function(){var a;switch(t){case"audiocloudPlayAll":a=e.state.playall?0:1;break;case"audiocloudShuffle":a=e.state.shuffle?0:1;break;case"audiocloudDisco":a=e.state.disco?0:1;break;case"audiocloudNumTracksPerPage":a=e.state.maxResultsPerPage;break}var s={userName:e.state.loggedinUserName,passhash:e.state.passhash,pref:t,newval:a};fetch(e.state.baseURL+"/updatePrefs.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(e){"audiocloudNumTracksPerPage"==t&&window.location.reload()}))}))},startUpload:function(){this.state.showUploadModal=!0},dragLeaveHandler:function(){this.dragover=!1},dragOverHandler:function(){this.dragover=!0},upload:function(t){var e=this;t.length&&(this.showUploadProgress=!0,this.filesUploading=Array(t.length).fill().map((function(t){return{}})),console.log(t),Array.from(t).forEach((function(t,a){t.completed=!1,e.filesUploading[a].perc=0,e.filesUploading[a].trackName=t.name})),Array.from(t).forEach((function(a,s){if(("audio/mpeg"==a.type||"audio/ogg"==a.type||"audio/wav"==a.type)&&a.size<1e8){var n=new FormData,o=a.name.split(".").filter((function(t,e){return e<a.name.split(".").length-1})).join(".");n.append("author",e.state.loggedinUserName),n.append("userID",e.state.loggedinUserID),n.append("trackName",o),n.append("userID",e.state.loggedinUserID),n.append("file",a);var i=new XMLHttpRequest;i.open("POST",e.state.baseURL+"/upload.php"),i.upload.addEventListener("progress",(function(t){var n=t.loaded/t.total*100;e.filesUploading[s].trackName=a.name,e.filesUploading[s].perc=n})),i.addEventListener("load",(function(s){a.completed=!0;var n=!0;Array.from(t).forEach((function(t){t.completed||(n=!1)})),n&&(window.location.href=window.location.origin+"/u/"+e.state.loggedinUserName)})),i.send(n)}else alert("a file was rejected due to incorrect type or filesize (max filesize = 100MB)"),e.state.showUploadModal=!1,e.showUploadProgress=!1})))},processDrop:function(t){var e=t.dataTransfer.files;this.upload(e)},truncate:function(t){if("undefined"!==typeof t)return t.length>16?t.substring(0,2)+"..."+t.substring(t.length-3):t},uploadManual:function(){var t=this,e=document.createElement("input");e.setAttribute("type","file"),e.addEventListener("change",(function(e){t.upload(e.path[0].files)})),e.click()}},mounted:function(){this.curPage>this.totalPages&&this.state.jumpToPage(this.totalPages)},computed:{trackPlaying:function(){var t=!1;return"undefined"!=typeof this.state.currentTrack&&"function"==typeof this.state.currentTrack&&this.state.currentTrack()&&(t=!!this.state.currentTrack().length),t},totalPages:function(){switch(this.state.mode){case"u":return+this.state.totalUserPages;case"default":return+this.state.totalPages;case"track":return+this.state.totalPages}},curPage:function(){switch(this.state.mode){case"u":return+this.state.curUserPage;case"default":return+this.state.curPage;case"track":return+this.state.curPage}},pagenumber:function(){var t;if(this.state.search.string)t="Page "+(this.state.curPage+1)+" of "+this.state.totalPages;else switch(this.state.mode){case"u":t="Page "+(this.state.curUserPage+1)+" of "+this.state.totalUserPages;break;case"default":t="Page "+(this.state.curPage+1)+" of "+this.state.totalPages;break;case"track":t="Page "+(this.state.curPage+1)+" of "+this.state.totalPages;break}return t},origin:function(){return window.location.origin}}};a("cafa");Ka.render=Fa,Ka.__scopeId="data-v-0a6bcff8";var Ga=Ka,Xa=a("edbf"),Ya=a.n(Xa),$a=a("939c"),Za=a.n($a),_a=a("9afb"),ts=a.n(_a),es=Object(s["v"])("data-v-9c33924c");Object(s["k"])("data-v-9c33924c");var as={ref:"footerBar",class:"footerBar",id:"footerBar"},ss={class:"footerMenu"},ns=Object(s["h"])("img",{src:"https://jsbot.cantelope.org/uploads/1Zt7AV.png",class:"socialIcon"},null,-1),os=Object(s["h"])("img",{src:"https://jsbot.cantelope.org/uploads/1gojp0.png",class:"socialIcon"},null,-1),is=Object(s["h"])("img",{src:Ya.a,class:"socialIcon"},null,-1),rs=Object(s["h"])("img",{src:Za.a,class:"socialIcon"},null,-1),cs=Object(s["h"])("img",{src:"https://jsbot.cantelope.org/uploads/1oHzZO.png",class:"socialIcon"},null,-1),ls=Object(s["h"])("img",{src:"https://jsbot.cantelope.org/uploads/cdR9g.png",class:"socialIcon"},null,-1),us=Object(s["h"])("img",{src:ts.a,class:"socialIcon"},null,-1);Object(s["j"])();var ds=es((function(t,e,a,n,o,i){return Object(s["i"])(),Object(s["d"])("div",as,[Object(s["h"])("div",ss,[Object(s["h"])("button",{onClick:e[1]||(e[1]=function(t){return i.launchPage("https://code.dweet.net")}),class:"socialButton",title:"demos / code  https://code.dweet.net"},[ns]),Object(s["h"])("button",{onClick:e[2]||(e[2]=function(t){return i.launchPage("https://messaging.dweet.net")}),class:"socialButton",title:"RobotNet Messaging https://messaging.dweet.net"},[os]),Object(s["h"])("button",{onClick:e[3]||(e[3]=function(t){return i.launchPage("https://hosting.dweet.net")}),class:"socialButton",title:"static page hosting https://hosting.dweet.net"},[is]),Object(s["h"])("button",{onClick:e[4]||(e[4]=function(t){return i.launchPage("https://games.dweet.net")}),class:"socialButton",title:"community browser games https://games.dweet.net"},[rs]),Object(s["h"])("button",{onClick:e[5]||(e[5]=function(t){return i.launchPage("https://words.dweet.net")}),class:"socialButton",title:"blog / literature https://words.dweet.net"},[cs]),Object(s["h"])("button",{onClick:e[6]||(e[6]=function(t){return i.launchPage("https://dweet.net")}),class:"socialButton",title:"music videos / playlists https://dweet.net"},[ls]),Object(s["h"])("button",{onClick:e[7]||(e[7]=function(t){return i.launchEmail()}),class:"socialButton",title:"whitehot robot email"},[us]),"embed"==a.state.mode?(Object(s["i"])(),Object(s["d"])("div",{key:0,class:"socialButton infoButton",title:"about whitehot robot",onClick:e[8]||(e[8]=function(t){return i.launchInfoPage()})})):Object(s["e"])("",!0)])],512)})),hs={name:"Footer",props:["state"],data:function(){return{}},methods:{launchInfoPage:function(){var t=document.createElement("a");t.setAttribute("href","https://whitehotrobot.com/about"),t.setAttribute("target","_blank"),t.style.display="none",document.body.appendChild(t),t.click(),t.parentNode.removeChild(t)},launchEmail:function(){location.href="https://email.whitehotrobot.com"},launchPage:function(t){window.open(t,"_blank")},launchAdmin:function(){window.open("https://whitehotrobot.com/admin/","_blank")}}};a("ad28");hs.render=ds,hs.__scopeId="data-v-9c33924c";var ps=hs,gs={class:"LoginPrompt"},fs={class:"mainLoginContainer"},bs={key:0},ms=Object(s["h"])("span",{class:"title"},"login",-1),ks=Object(s["h"])("br",null,null,-1),js={class:"inputContainer"},Os=Object(s["h"])("div",{class:"inputTitle"},"User Name",-1),Ds=Object(s["h"])("br",null,null,-1),ys={class:"inputContainer"},ws=Object(s["h"])("div",{class:"inputTitle"},"Password",-1),vs=Object(s["h"])("br",null,null,-1),Qs={key:0,class:"invalidLogin"},Ts=Object(s["h"])("div",{class:"spacerDiv",style:{"margin-top":"30px"}},null,-1),Ps={key:1},Us=Object(s["h"])("div",{class:"spacerDiv",style:{"margin-top":"20px"}},null,-1),xs=Object(s["h"])("br",null,null,-1),Cs={key:0,class:"mustRegister"},As=Object(s["g"])(" You must register or"),Is=Object(s["h"])("br",null,null,-1),Ss=Object(s["g"])(" log-in to create a demo!"),Ns=Object(s["h"])("br",null,null,-1),Ls=Object(s["h"])("span",{class:"title"},"register",-1),Rs=Object(s["h"])("br",null,null,-1),Ms={class:"inputContainer"},Bs={class:"inputTitle"},Es=Object(s["g"])(" User Name "),Vs={key:0,style:{display:"inline-block",color:"#f00"}},Fs=Object(s["g"])("     "),Hs=Object(s["h"])("i",null,"user name unavailable",-1),zs={key:1,style:{display:"inline-block",color:"#0f4"}},Ws=Object(s["g"])("     "),qs=Object(s["h"])("i",null,"user name available",-1),Js=Object(s["h"])("br",null,null,-1),Ks={class:"inputContainer"},Gs={class:"inputTitle"},Xs=Object(s["g"])(" Password "),Ys={key:0,style:{display:"inline-block",color:"#f00"}},$s={key:1,style:{display:"inline-block",color:"#0f4"}},Zs=Object(s["g"])("     "),_s=Object(s["h"])("i",null,"passwords match!",-1),tn=Object(s["h"])("br",null,null,-1),en={class:"inputContainer"},an=Object(s["h"])("div",{class:"inputTitle"},"Confirm Password",-1),sn=Object(s["h"])("br",null,null,-1),nn={key:1,class:"invalidLogin"},on={style:{position:"absolute","z-index":"-1",opacity:"0"},ref:"bottomTabAnchor",type:"text",class:"textInput"};function rn(t,e,a,n,o,i){return Object(s["i"])(),Object(s["d"])("div",gs,[Object(s["h"])("div",fs,[a.state.showRegister?(Object(s["i"])(),Object(s["d"])("div",Ps,[Us,Object(s["h"])("button",{class:"toggleButton",onClick:e[12]||(e[12]=function(t){return i.toggleView()})}," ↑   login   ↑ "),xs,a.state.displayLoginRequired?(Object(s["i"])(),Object(s["d"])("div",Cs,[As,Is,Ss,Ns])):Object(s["e"])("",!0),Ls,Rs,Object(s["h"])("div",Ms,[Object(s["h"])("div",Bs,[Es,o.userNameAvailable?Object(s["e"])("",!0):(Object(s["i"])(),Object(s["d"])("div",Vs,[Fs,Hs])),o.userNameAvailable&&a.state.regusername?(Object(s["i"])(),Object(s["d"])("div",zs,[Ws,qs])):Object(s["e"])("",!0)]),Object(s["h"])("input",{style:{position:"absolute","z-index":"-1",opacity:"0"},ref:"loginTabAnchor",type:"text",class:"textInput",onKeydown:[e[13]||(e[13]=Object(s["t"])((function(t){return i.submit()}),["enter"])),e[14]||(e[14]=Object(s["t"])(Object(s["u"])((function(e){return t.$refs.bottomTabAnchor.focus()}),["shift"]),["tab"]))]},null,544),Object(s["s"])(Object(s["h"])("input",{type:"text",ref:"regusername","onUpdate:modelValue":e[15]||(e[15]=function(t){return a.state.regusername=t}),class:["input textInput",{userNameUnavailable:!o.userNameAvailable,userNameAvailable:o.userNameAvailable&&a.state.regusername}],maxlength:"16",onInput:e[16]||(e[16]=function(t){return i.checkUserNameAvailability()}),onKeydown:[e[17]||(e[17]=Object(s["t"])((function(t){return i.submit()}),["enter"])),e[18]||(e[18]=Object(s["t"])(Object(s["u"])((function(e){return t.$refs.bottomTabAnchor.focus()}),["shift"]),["tab"]))]},null,34),[[s["r"],a.state.regusername]]),Js]),Object(s["h"])("div",Ks,[Object(s["h"])("div",Gs,[Xs,!i.passwordsMatch&&a.state.regpassword&&a.state.confirmpassword?(Object(s["i"])(),Object(s["d"])("div",Ys,"     passwords do not match ")):Object(s["e"])("",!0),i.passwordsMatch&&a.state.regpassword&&a.state.confirmpassword?(Object(s["i"])(),Object(s["d"])("div",$s,[Zs,_s])):Object(s["e"])("",!0)]),Object(s["s"])(Object(s["h"])("input",{type:"password",ref:"regpassword","onUpdate:modelValue":e[19]||(e[19]=function(t){return a.state.regpassword=t}),class:["input",{passwordsDoNotMatch:!i.passwordsMatch&&a.state.regpassword&&a.state.confirmpassword,passwordsMatch:i.passwordsMatch&&a.state.regpassword&&a.state.confirmpassword}],onKeydown:e[20]||(e[20]=Object(s["t"])((function(t){return i.submit()}),["enter"]))},null,34),[[s["r"],a.state.regpassword]]),tn]),Object(s["h"])("div",en,[an,Object(s["s"])(Object(s["h"])("input",{type:"password",ref:"confirmpassword","onUpdate:modelValue":e[21]||(e[21]=function(t){return a.state.confirmpassword=t}),class:["input",{passwordsDoNotMatch:!i.passwordsMatch&&a.state.regpassword&&a.state.confirmpassword,passwordsMatch:i.passwordsMatch&&a.state.regpassword&&a.state.confirmpassword}],onKeydown:e[22]||(e[22]=Object(s["t"])((function(t){return i.submit()}),["enter"]))},null,34),[[s["r"],a.state.confirmpassword]]),sn]),Object(s["h"])("button",{onClick:e[23]||(e[23]=function(t){return i.submit()}),disabled:!i.validate,class:{disabledButton:!i.validate}},"submit",10,["disabled"]),Object(s["h"])("button",{onClick:e[24]||(e[24]=function(t){return i.closePrompt()}),onKeydown:[e[25]||(e[25]=Object(s["t"])((function(e){return t.$refs.loginTabAnchor.focus()}),["tab"])),e[26]||(e[26]=Object(s["t"])(Object(s["u"])((function(e){return t.$refs.cancelButton.focus()}),["shift"]),["tab"]))],ref:"cancelButton",style:{background:"#faa"}},"cancel",544),o.showInvalid?(Object(s["i"])(),Object(s["d"])("div",nn," Whoa! check your info... ")):Object(s["e"])("",!0),Object(s["h"])("input",on,null,512)])):(Object(s["i"])(),Object(s["d"])("div",bs,[ms,ks,Object(s["h"])("div",js,[Os,Object(s["h"])("input",{style:{position:"absolute","z-index":"-1",opacity:"0"},ref:"loginTabAnchor",onKeydown:e[1]||(e[1]=Object(s["t"])(Object(s["u"])((function(e){return t.$refs.bottomTabAnchor.focus()}),["shift"]),["tab"])),type:"text",class:"textInput"},null,544),Object(s["s"])(Object(s["h"])("input",{type:"text",ref:"username","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.state.username=t}),class:"input textInput",onKeydown:[e[3]||(e[3]=Object(s["t"])((function(t){return a.state.login()}),["enter"])),e[4]||(e[4]=Object(s["t"])(Object(s["u"])((function(e){return t.$refs.bottomTabAnchor.focus()}),["shift"]),["tab"]))]},null,544),[[s["r"],a.state.username]]),Ds]),Object(s["h"])("div",ys,[ws,Object(s["s"])(Object(s["h"])("input",{type:"password",ref:"password","onUpdate:modelValue":e[5]||(e[5]=function(t){return a.state.password=t}),class:"input",onKeydown:e[6]||(e[6]=Object(s["t"])((function(t){return a.state.login()}),["enter"]))},null,544),[[s["r"],a.state.password]]),vs]),Object(s["h"])("button",{onClick:e[7]||(e[7]=function(t){return a.state.login()}),ref:"go"},"Go",512),Object(s["h"])("button",{onClick:e[8]||(e[8]=function(t){return i.closePrompt()}),onKeydown:[e[9]||(e[9]=Object(s["t"])((function(e){return t.$refs.loginTabAnchor.focus()}),["tab"])),e[10]||(e[10]=Object(s["t"])(Object(s["u"])((function(e){return t.$refs.cancelButton.focus()}),["shift"]),["tab"]))],style:{background:"#faa"},ref:"cancelButton"},"cancel",544),a.state.invalidLoginAttempt?(Object(s["i"])(),Object(s["d"])("div",Qs," Invalid User Name or Password ")):Object(s["e"])("",!0),Ts,Object(s["h"])("button",{class:"toggleButton",onClick:e[11]||(e[11]=function(t){return i.toggleView()}),ref:"bottomTabAnchor"}," ↓   register   ↓ ",512)]))])])}var cn={name:"Account",props:["state"],data:function(){return{userNameAvailable:!0,showInvalid:!1}},computed:{passwordsMatch:function(){return this.state.regpassword===this.state.confirmpassword},validate:function(){return this.state.regusername&&this.state.regpassword&&this.passwordsMatch&&this.userNameAvailable}},methods:{submit:function(){var t=this;if(this.validate){var e={userName:this.state.regusername,password:this.state.regpassword};fetch(this.state.baseURL+"/submitReg.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){e[0]?(t.state.loggedin=!0,t.state.loggedinUserName=t.state.regusername,t.state.passhash=e[1],t.state.loggedinUserID=e[2],t.state.closePrompts(),t.state.setCookie(),t.state.userInfo[t.state.loggedinUserID]={},t.state.userInfo[t.state.loggedinUserID].name=t.state.regusername,t.state.userInfo[t.state.loggedinUserID].avatar=t.state.getAvatar(t.state.loggedinUserID),t.state.checkEnabled()):t.showInvalid=!0}))}else this.showInvalid=!0},toggleView:function(){var t=this;this.state.showRegister=!this.state.showRegister,this.$nextTick((function(){t.state.showRegister?t.$refs.regusername.focus():t.$refs.username.focus()}))},toggleLogin:function(){this.state.loggedin||this.state.showLoginPrompt()},closePrompt:function(){this.state.closePrompts()},checkUserNameAvailability:function(){var t=this;if(this.userNameAvailable=!0,this.state.regusername){var e={userName:this.state.regusername};fetch(this.state.baseURL+"/checkUserNameAvailability.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){t.userNameAvailable=e}))}}},mounted:function(){this.state.confirmpassword="",this.state.showRegister?this.$refs.regusername.focus():this.$refs.username.focus()}};a("377d");cn.render=rn;var ln=cn,un={class:"UserSettings"},dn={class:"mainContainer"},hn={style:{"font-size":"28px","line-height":"1em","font-weight":"900"}},pn=Object(s["h"])("br",null,null,-1),gn=Object(s["h"])("span",{style:{color:"#aff","font-size":"36px","font-weight":"400"}},"settings",-1),fn=Object(s["h"])("div",{class:"spacerDiv"},null,-1),bn=Object(s["g"])(" your avatar"),mn=Object(s["h"])("br",null,null,-1),kn={class:"editAvatarImgContainer"},jn=Object(s["h"])("br",null,null,-1),On={key:0,style:{color:"#4f8","font-size":"18px",background:"#055",padding:"4px","margin-top":"10px","padding-bottom":"8px"}},Dn={key:1,style:{color:"#f44","font-size":"18px",background:"#500",padding:"4px","margin-top":"10px","padding-bottom":"8px"}},yn=Object(s["h"])("div",{class:"spacerDiv",style:{"margin-top":"20px"}},null,-1),wn=Object(s["g"])(" change your password"),vn=Object(s["h"])("br",null,null,-1),Qn=Object(s["h"])("br",null,null,-1),Tn=Object(s["h"])("br",null,null,-1),Pn=Object(s["h"])("br",null,null,-1),Un={key:2,style:{color:"#4f8","font-size":"24px",background:"#055",padding:"4px","margin-top":"10px","padding-bottom":"8px"}},xn={key:3,style:{color:"#f44","font-size":"20px",background:"#400",padding:"4px","margin-top":"10px","padding-bottom":"8px"}},Cn={key:4,style:{color:"#f00","font-size":"20px"}},An={key:5,style:{color:"#0f4"}},In=Object(s["g"])("     "),Sn=Object(s["h"])("i",null,"passwords match!",-1),Nn=Object(s["h"])("div",{class:"spacerDiv"},null,-1);function Ln(t,e,a,n,o,i){return Object(s["i"])(),Object(s["d"])("div",un,[Object(s["h"])("div",dn,[Object(s["h"])("span",hn,[Object(s["g"])(Object(s["o"])(a.state.loggedinUserName)+" ",1),pn,gn]),fn,bn,mn,Object(s["h"])("div",kn,[Object(s["h"])("img",{src:a.state.getAvatar(a.state.loggedinUserID),class:"editAvatarImg"},null,8,["src"])]),Object(s["h"])("input",{style:{opacity:"0",position:"absolute","z-index":"-1"},ref:"tabAnchor",onKeydown:e[1]||(e[1]=Object(s["t"])(Object(s["u"])((function(e){return t.$refs.cancelButton.focus()}),["shift"]),["tab"]))},null,544),Object(s["s"])(Object(s["h"])("input",{type:"text",ref:"avatarURL","onUpdate:modelValue":e[2]||(e[2]=function(t){return a.state.userInfo[a.state.loggedinUserID].avatar=t}),class:"input avatarInput",onInput:e[3]||(e[3]=function(t){return i.updateAvatar()}),onClick:e[4]||(e[4]=function(t){return t.target.select()}),placeholder:"URL to an online image..."},null,544),[[s["r"],a.state.userInfo[a.state.loggedinUserID].avatar]]),jn,1==o.avatarUpdateSuccessful?(Object(s["i"])(),Object(s["d"])("div",On,"     avatar update successful ")):Object(s["e"])("",!0),-1==o.avatarUpdateSuccessful?(Object(s["i"])(),Object(s["d"])("div",Dn,"     avatar update NOT successful ")):Object(s["e"])("",!0),yn,wn,vn,Object(s["s"])(Object(s["h"])("input",{type:"password",ref:"currentpassword",class:"input passwordFields","onUpdate:modelValue":e[5]||(e[5]=function(t){return o.currentPassword=t}),onKeydown:e[6]||(e[6]=Object(s["t"])((function(t){return i.savePassword()}),["enter"])),onClick:e[7]||(e[7]=function(t){return t.target.select()}),onInput:e[8]||(e[8]=function(t){return o.showInvalid=!1}),placeholder:"current password"},null,544),[[s["r"],o.currentPassword]]),Qn,Object(s["s"])(Object(s["h"])("input",{type:"password",ref:"newpassword",class:["input passwordFields",{passwordsDoNotMatch:!i.passwordsMatch&&o.newPassword&&o.confirmNewPassword,passwordsMatch:i.passwordsMatch&&o.newPassword&&o.confirmNewPassword}],"onUpdate:modelValue":e[9]||(e[9]=function(t){return o.newPassword=t}),onKeydown:e[10]||(e[10]=Object(s["t"])((function(t){return i.savePassword()}),["enter"])),onInput:e[11]||(e[11]=function(t){return o.showInvalid=!1}),onClick:e[12]||(e[12]=function(t){return t.target.select()}),placeholder:"new password"},null,34),[[s["r"],o.newPassword]]),Tn,Object(s["s"])(Object(s["h"])("input",{type:"password",ref:"confirmnewpassword","onUpdate:modelValue":e[13]||(e[13]=function(t){return o.confirmNewPassword=t}),onInput:e[14]||(e[14]=function(t){return o.showInvalid=!1}),class:["input passwordFields",{passwordsDoNotMatch:!i.passwordsMatch&&o.newPassword&&o.confirmNewPassword,passwordsMatch:i.passwordsMatch&&o.newPassword&&o.confirmNewPassword}],onClick:e[15]||(e[15]=function(t){return t.target.select()}),onKeydown:e[16]||(e[16]=Object(s["t"])((function(t){return i.savePassword()}),["enter"])),placeholder:"confirm new password"},null,34),[[s["r"],o.confirmNewPassword]]),Pn,o.savedPassword?(Object(s["i"])(),Object(s["d"])("div",Un,"     password saved ")):Object(s["e"])("",!0),o.showInvalid?(Object(s["i"])(),Object(s["d"])("div",xn,"     ERROR SAVING PASSWORD! ")):Object(s["e"])("",!0),o.savedPassword||o.showInvalid||i.passwordsMatch||!o.newPassword||!o.confirmNewPassword?Object(s["e"])("",!0):(Object(s["i"])(),Object(s["d"])("div",Cn,"     passwords do not match ")),!o.savedPassword&&!o.showInvalid&&i.passwordsMatch&&o.newPassword&&o.confirmNewPassword?(Object(s["i"])(),Object(s["d"])("div",An,[In,Sn])):Object(s["e"])("",!0),Object(s["h"])("button",{onClick:e[17]||(e[17]=function(t){return i.savePassword()}),ref:"cancelButton",disabled:!i.validate,class:{disabledButton:!i.validate}},"save",10,["disabled"]),Nn,Object(s["h"])("button",{onClick:e[18]||(e[18]=function(t){return i.closePrompt()}),onKeydown:[e[19]||(e[19]=Object(s["t"])((function(e){return t.$refs.tabAnchor.focus()}),["tab"])),e[20]||(e[20]=Object(s["t"])(Object(s["u"])((function(e){return t.$refs.cancelButton.focus()}),["shift"]),["tab"]))],ref:"cancelButton",style:{background:"#faa"}},"close / cancel",544),Object(s["h"])("input",{style:{opacity:"0",position:"absolute","z-index":"-1"},ref:"endTabAnchor",onKeydown:e[21]||(e[21]=Object(s["t"])(Object(s["u"])((function(e){return t.$refs.confirmnewassword.focus()}),["shift"]),["tab"]))},null,544)])])}var Rn={name:"UserSettings",props:["state"],data:function(){return{newPassword:"",confirmNewPassword:"",currentPassword:"",savedPassword:!1,showInvalid:!1,avatarUpdateSuccessful:0}},computed:{passwordsMatch:function(){return this.newPassword===this.confirmNewPassword},validate:function(){return this.passwordsMatch&&this.newPassword&&this.confirmNewPassword&&this.currentPassword}},methods:{savePassword:function(){var t=this;if(this.validate){var e={userName:this.state.loggedinUserName,currentPassword:this.currentPassword,newPassword:this.newPassword};fetch(this.state.baseURL+"/changePassword.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){e[0]?(t.state.passhash=e[1],t.savedPassword=!0,t.currentPassword=t.newPassword=t.confirmNewPassword="",t.state.setCookie()):t.showInvalid=!0}))}else this.savedPassword=!1,this.showInvalid=!0},closePrompt:function(){this.state.closePrompts()},updateAvatar:function(){var t=this,e={userName:this.state.loggedinUserName,passhash:this.state.passhash,newAvatar:this.state.userInfo[this.state.loggedinUserID].avatar};fetch(this.state.baseURL+"/updateAvatar.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){e[0]?(t.avatarUpdateSuccessful=1,t.state.user.avatar=t.state.userInfo[t.state.loggedinUserID].avatar,setTimeout((function(){return t.avatarUpdateSuccessful=0}),2e3)):(t.avatarUpdateSuccssful=-1,setTimeout((function(){return t.avatarUpdateSuccessful=0}),2e3))}))}},mounted:function(){this.$refs.currentpassword.focus()}};a("dda3");Rn.render=Ln;var Mn,Bn=Rn,En={name:"App",data:function(){return{state:{baseURL:"https://audiocloud.dweet.net",baseDemoURL:"https://code.dweet.net",baseVideoURL:"https://dweet.net",baseDomain:"audiocloud.dweet.net",baseUserDomain:"dweet.net",rootDomain:"audiocloud.dweet.net",maxCommentsBeforeExpansion:3,curPage:0,curPlayId:0,playPauseCurrentTrack:null,jumpToPlayingTrack:null,beginSearch:null,curTrack:null,curSearchPage:0,jumpToPage:null,playall:!1,userAgent:null,shuffle:!1,disco:!1,userData:[],preloadImages:[],curUserPage:null,incrementViews:null,loggedinUserName:"",exactClicked:!1,search:{string:"",audiocloudTracks:[],hits:0,inProgress:!1,timer:0,timerHandle:null,exact:!1,allWords:!0},showControlsToggleTimer:0,loggedin:!1,totalUserPages:0,totalPages:0,playPreviousTrack:null,playNextTrack:null,showUploadModal:!1,currentTrack:null,toggleLogin:null,maxResultsPerPage:0,showLoginPrompt:null,globalT:0,showControls:!1,toggleShowControls:null,closePrompts:null,loginPromptVisible:!1,isAdmin:!1,checkEnabled:null,loggedinuser:"",inView:[],loaded:!1,user:null,fetchUserData:null,startStopPages:!1,pauseVisible:null,username:"",password:"",passhash:"",userInfo:[],tracks:[],regusername:"",advancePage:null,regressPage:null,filteredUserTracks:null,firstPage:null,lastPage:null,regpassword:"",preload:2,decToAlpha:null,alphaToDec:null,showRegister:!1,showUserSettings:null,userSettingsVisible:!1,openFullscreen:null,getAvatar:null,landingPage:{audiocloudTracks:[]},mode:"",defaultAvatar:"https://jsbot.cantelope.org/uploads/1pnBdc.png"}}},components:{Main:Pe,Controls:oa,Header:Ga,Footer:ps,UserSettings:Bn,LoginPrompt:ln},methods:{toggleShowControls:function(){var t=document.cookie;t.split(";").map((function(t){-1!=t.indexOf("showControls")&&(document.cookie=t+"; expires="+new Date(0).toUTCString()+"; path=/")})),this.state.showControls=!this.state.showControls,document.cookie="showControls="+this.state.showControls+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},pauseVisible:function(){if(this.state.search.string)this.state.search.audiocloudTracks.map((function(t){return t.playing=!1}));else switch(this.state.mode){case"u":this.state.user.audiocloudTracks.map((function(t){return t.playing=!1}));break;case"track":this.state.tracks.map((function(t){return t.playing=!1}));break;case"embed":this.state.tracks.map((function(t){return t.playing=!1}));break;case"default":this.state.landingPage.audiocloudTracks.map((function(t){return t.playing=!1}));break}},openFullscreen:function(t){t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()},decToAlpha:function(t){var e,a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s="";while(t)s=a[0|Math.round(62*(t/62-(e=t/62|0)))]+s,t=e;return""==s?"0":s},alphaToDec:function(t){var e,a,s=0,n=0;while(""!=t)e=t[t.length-1],t=t.substring(0,t.length-1),a=e.charCodeAt(0)<58?e:e.charCodeAt(0)-(e.charCodeAt(0)>96?87:29),n+=a*Math.pow(62,s),s++;return n},fetchUserData:function(t){var e=this;if("undefined"==typeof this.state.userData[t]){var a={userID:t,page:this.state.curUserPage,maxResultsPerPage:this.state.maxResultsPerPage};fetch(this.state.baseURL+"/fetchUserData.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(t){return t.json()})).then((function(a){a&&(e.state.userData[t]=a[0],e.state.userInfo[t]={},e.state.userInfo[t].name=a[0].name,e.state.userInfo[t].avatar=a[0].avatar,e.state.userInfo[t].isAdmin=a[0].isAdmin)}))}},loadLandingPage:function(){var t=this,e={page:this.state.curPage,maxResultsPerPage:this.state.maxResultsPerPage};fetch(this.state.baseURL+"/getRecentTracks.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){e[0].map((function(e){e.playing=!1,e.private=!!+e.private,e.allowDownload=!!+e.allowDownload,t.incrementViews(e.id),t.loadUserData(e.author),e.comments=e.comments.map((function(e){return e.updated=!1,e.editing=!1,t.fetchUserData(e.userID),e}))})),t.state.landingPage.audiocloudTracks=e[0],t.state.totalPages=e[1],t.state.curPage+1>t.state.totalPages&&t.lastPage(),t.state.loaded=!0,t.state.playall&&t.playNextTrack()}))},loadUserData:function(t){var e=this,a={name:decodeURIComponent(t),loggedinUserName:this.state.loggedinUserName,passhash:this.state.passhash,maxResultsPerPage:this.state.maxResultsPerPage,page:this.state.curUserPage};fetch(this.state.baseURL+"/fetchUserDataByName.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(t){return t.json()})).then((function(t){null!=e.state.user&&"undefined"!=typeof e.state.user.audiocloudTracks&&e.state.user.audiocloudTracks.length?t[0].audiocloudTracks=e.state.user.audiocloudTracks:t[0].audiocloudTracks.map((function(t){"default"!=e.state.mode&&e.incrementViews(t.id),t.playing=!1,t.private=!!+t.private,t.allowDownload=!!+t.allowDownload,t.comments=t.comments.map((function(t){return t.updated=!1,t.editing=!1,e.fetchUserData(t.userID),t}))})),e.state.totalUserPages=t[1],e.state.curUserPage+1>e.state.totalUserPages&&e.lastPage(),e.state.user=t[0],e.state.userInfo[e.state.user.id]={},e.state.userInfo[e.state.user.id].name=e.state.user.name,e.state.userInfo[e.state.user.id].avatar=e.state.user.avatar,e.state.userInfo[e.state.user.id].isAdmin=e.state.user.isAdmin,e.state.refreshAvatar=!0,e.state.loaded=!0,e.state.playall&&""==e.state.search.string&&"u"==e.state.mode&&e.playNextTrack()}))},loadTrack:function(t){var e=this;this.state.curTrack=t;var a={userName:this.state.loggedinUserName,passhash:this.state.passhash,trackID:t};fetch(this.state.baseURL+"/fetchTrack.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(t){return t.json()})).then((function(t){t?(t.private=!!+t.private,e.fetchUserData(t.userID),t.comments=t.comments.map((function(t){return t.updated=!1,t.editing=!1,e.fetchUserData(t.userID),t})),t.allowDownload=!!+t.allowDownload,e.incrementViews(t.id),e.state.tracks=[t]):e.state.tracks=[],e.state.loaded=!0}))},getQueryVar:function(t,e){for(var a=window.location.search.substring(1),s=a.split("&"),n=0;n<s.length;n++){var o=s[n].split("=");if(o[0]==e)return o[1]}return!1},goHome:function(){window.location.href=window.location.origin},getAvatar:function(t){return"undefined"!=typeof this.state.userInfo[t]&&this.state.userInfo[t].avatar?(this.state.userInfo[t].avatar=this.state.userInfo[t].avatar.replace(" ",""),this.state.userInfo[t].avatar):this.state.defaultAvatar},closePrompts:function(){this.state.loginPromptVisible=!1,this.state.userSettingsVisible=!1,this.state.showRegister=!1,this.state.displayLoginRequired=!1,document.getElementsByTagName("HTML")[0].style.overflowY="visible"},showUserSettings:function(){document.getElementsByTagName("HTML")[0].style.overflowY="hidden",this.state.userSettingsVisible=!0},showLoginPrompt:function(){document.getElementsByTagName("HTML")[0].style.overflowY="hidden",this.state.username=this.state.password=this.state.regusername=this.state.regpassword="",this.state.invalidLoginAttempt=!1,this.state.loginPromptVisible=!0},toggleLogin:function(){this.state.loggedin=!this.state.loggedin},setCookie:function(){var t=document.cookie;t.split(";").map((function(t){-1==t.indexOf("autoplay")&&(document.cookie=t+"; expires="+new Date(0).toUTCString()+"; path=/")})),document.cookie="loggedinuser="+this.state.loggedinUserName+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="loggedinuserID="+this.state.loggedinUserID+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="token="+this.state.passhash+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="autoplay="+this.state.playall+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="shuffle="+this.state.shuffle+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="showControls="+this.state.showControls+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="exactSearch="+this.state.search.exact+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain,document.cookie="allWords="+this.state.search.allWords+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},checkEnabled:function(){var t=this;if(this.state.loggedinUserName){var e={userName:this.state.loggedinUserName,passhash:this.state.passhash};fetch(this.state.baseURL+"/checkEnabled.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(e){+e[0]?(t.state.loggedin=!0,t.state.loggedinUserID=+e[1],t.state.fetchUserData(t.state.loggedinUserID),t.setCookie(),t.state.loginPromptVisible=!1,t.state.invalidLoginAttemp=!1,t.state.userInfo[t.state.loggedinUserID]={},t.state.userInfo[t.state.loggedinUserID].name=t.state.regusername||t.state.loggedinUserName,t.state.userInfo[t.state.loggedinUserID].avatar=e[2],t.state.userInfo[t.state.loggedinUserID].isAdmin=+e[3],+e[3]&&(t.state.isAdmin=!0),t.state.maxResultsPerPage=+e[4],t.state.playall=!!+e[5],t.state.shuffle=!!+e[6],t.state.disco=!!+e[7]):(t.state.loggedin=!1,t.state.loggedinUserName="",t.state.loggedinUserID="",t.state.passhash="",t.state.isAdmin=!1,t.state.invalidLoginAttempt=!0),t.getMode(),"embed"==t.state.mode&&(t.state.loggedinUserName="",t.state.loggedin=!1,t.state.isAdmin=!1)}))}},checkAutoplayPref:function(){var t=document.cookie.split(";").filter((function(t){return"autoplay"===t.split("=")[0].trim()}));t.length&&(this.state.playall="true"==t[0].split("=")[1]),t=document.cookie.split(";").filter((function(t){return"shuffle"===t.split("=")[0].trim()})),t.length&&(this.state.shuffle="true"==t[0].split("=")[1])},checkExactSearchPref:function(){var t=document.cookie.split(";").filter((function(t){return"exactSearch"===t.split("=")[0].trim()}));t.length&&(this.state.search.exact="true"==t[0].split("=")[1]),t=document.cookie.split(";").filter((function(t){return"allWords"===t.split("=")[0].trim()})),t.length&&(this.state.search.allWords="true"==t[0].split("=")[1])},getMode:function(){var t=this,e=window.location.pathname.split("/").filter((function(t){return t}));if(e.length>0)switch(e[0]){case"embed":this.state.mode="embed",document.getElementsByTagName("html")[0].style.overflow="hidden",this.state.curPage=+e[1]-1,this.$nextTick((function(){return t.loadTrack(t.alphaToDec(e[1]))}));break;case"track":this.state.mode="track",this.state.curPage=+e[1]-1,this.$nextTick((function(){return t.loadTrack(t.alphaToDec(e[1]))})),e[2]&&(this.state.search.string=decodeURIComponent(e[2]));break;case"playlist":this.state.mode="playlist";break;case"u":e[1]||(window.location.href=window.location.origin),this.state.user={name:decodeURIComponent(e[1])},this.state.mode="u",e[2]?(this.state.curUserPage=+e[2]-1,e[3]?(this.state.loggedin||(this.state.playall=!0,this.state.shuffle=!0),this.state.search.string=decodeURIComponent(e[3]),a="/"+e[3],history.pushState(null,null,window.location.origin+"/u/"+this.state.user.name+"/"+(this.state.curPage+1)),this.beginSearch()):((!this.state.curUserPage||this.state.curUserPage<0||this.state.curUserPage>1e6)&&(this.state.curUserPage=0),history.pushState(null,null,window.location.origin+"/u/"+e[1]+(this.state.curUserPage?"/"+(this.state.curUserPage+1):"")),this.getPages())):(this.state.curUserPage=0,history.pushState(null,null,window.location.origin+"/u/"+e[1]+(this.state.curUserPage?"/"+(this.state.curUserPage+1):"")),this.getPages());break;default:this.state.mode="default";var a="";e[0]?(this.state.curPage=+e[0]-1,e[1]?(this.state.search.string=decodeURIComponent(e[1]),a="/"+e[1],a&&!this.state.loggedin&&(this.state.playall=!0,this.state.shuffle=!0),history.pushState(null,null,window.location.origin+"/"+(this.state.curPage+1)),this.beginSearch()):(history.pushState(null,null,window.location.origin+"/"+this.state.curPage?this.state.curPage+1:""),(!this.state.curPage||this.state.curPage<0||this.state.curPage>1e6)&&(this.state.curPage=0),this.getPages())):window.location.href=window.location.origin;break}else this.state.mode="default",this.getPages(),window.location.href!==window.location.origin+"/"&&(window.location.href=window.location.origin)},getPages:function(){switch(this.state.mode){case"u":this.loadUserData(this.state.user.name);break;case"track":this.loadTrack();break;case"default":this.loadLandingPage();break}},login:function(){var t=this,e={userName:this.state.username,password:this.state.password};fetch(this.state.baseURL+"/login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(a){a[0]?(t.state.loggedin=!0,t.state.loggedinUserName=t.state.username,t.state.loggedinUserID=+a[2],t.state.isAdmin=+a[4],t.state.playall=!!+a[5],t.state.shuffle=!!+a[6],t.state.disco=!!+a[7],t.state.passhash=a[1],t.setCookie(),t.closePrompts(),t.state.invalidLoginAttemp=!1,t.state.userInfo[t.state.loggedinUserID]={},t.state.userInfo[t.state.loggedinUserID].name=t.state.regusername||t.state.loggedinUserName,t.state.userInfo[t.state.loggedinUserID].avatar=a[3],t.state.userInfo[t.state.loggedinUserID].isAdmin=+a[4],t.checkShowControlsPref(),t.checkExactSearchPref(),e={userID:t.state.loggedinUserID,page:t.state.curUserPage,maxResultsPerPage:t.state.maxResultsPerPage},fetch(t.state.baseURL+"/fetchUserData.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).then((function(t){window.location.reload()})),t.$nextTick((function(){return t.loadUserData(t.state.user.name)}))):(t.state.loggedin=!1,t.state.invalidLoginAttempt=!0)}))},logout:function(){var t=this,e=document.cookie;e.split(";").map((function(e){-1==e.indexOf("autoplay")&&(document.cookie=e+"; expires="+new Date(0).toUTCString()+"; path=/; domain="+t.state.rootDomain),-1==e.indexOf("autoplay")&&(document.cookie=e+"; expires="+new Date(0).toUTCString()+"; path=/; domain="+t.state.rootDomain)})),this.state.loggedin=!1,this.state.isAdmin=!1,(this.state.mode="u")&&window.location.reload(),this.state.loggedinUserID=this.state.loggedinUserName="",this.$nextTick((function(){return t.loadUserData(t.state.user.name)}))},checkLogin:function(){var t=document.cookie.split(";").filter((function(t){return"loggedinuser"===t.split("=")[0].trim()}));if(t.length){this.state.loggedinUserName=t[0].split("=")[1];var e=document.cookie.split(";").filter((function(t){return"token"===t.split("=")[0].trim()}));if(e.length){this.state.passhash=e[0].split("=")[1];var a=document.cookie.split(";").filter((function(t){return"loggedinuserID"===t.split("=")[0].trim()}));a.length&&(this.state.loggedinUserID=a[0].split("=")[1],this.checkEnabled())}}else this.getMode();this.checkAutoplayPref(),this.checkShowControlsPref(),this.checkExactSearchPref()},checkShowControlsPref:function(){var t=document.cookie.split(";").filter((function(t){return"showControls"===t.split("=")[0].trim()}));t.length&&(this.state.showControls="true"==t[0].split("=")[1])},incrementViews:function(t){var e=this,a={trackID:t};fetch(this.state.baseURL+"/incrementViews.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(t){return t.json()})).then((function(a){if(e.state.search.string)e.state.search.audiocloudTracks.filter((function(e){return e.id==t})).length&&e.state.search.audiocloudTracks.filter((function(e){return e.id==t}))[0].views++;else switch(e.state.mode){case"u":e.state.user.audiocloudTracks.filter((function(e){return e.id==t}))[0].views++;break;case"default":e.state.landingPage.audiocloudTracks.filter((function(e){return e.id==t})).length&&e.state.landingPage.audiocloudTracks.filter((function(e){return e.id==t}))[0].views++;break;case"track":e.state.tracks.filter((function(e){return e.id==t}))[0].views++;break}}))},firstPage:function(){var t=this.state.search.string?"/1/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/u/"+this.state.user.name+t;break;case"default":window.location.href=window.location.origin+t;break;case"track":window.location.href=window.location.origin+"/track/"+this.state.curTrack+t;break}},jumpToPage:function(t){var e=this.state.search.string?"/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/u/"+this.user.name+"/"+t+e;break;case"default":window.location.href=window.location.origin+"/"+t+e;break;case"track":window.location.href=window.location.origin+"/track/"+this.decToAlpha(this.state.curTrack)+"/"+t+e;break}},lastPage:function(){var t=this.state.search.string?"/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/u/"+this.state.user.name+"/"+this.state.totalUserPages+t;break;case"default":window.location.href=window.location.origin+"/"+this.state.totalPages+t;break;case"track":window.location.href=window.location.origin+"/track/"+this.decToAlpha(this.state.curTrack)+"/"+this.state.totalPages+t;break}},advancePage:function(){var t=this.state.search.string?"/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/u/"+this.state.user.name+"/"+(this.state.curUserPage+2)+t;break;case"default":window.location.href=window.location.origin+"/"+(this.state.curPage+2)+t;break;case"track":window.location.href=window.location.origin+"/track/"+this.decToAlpha(this.state.curTrack)+"/"+(this.state.curPage+2)+t;break}},regressPage:function(){var t=this.state.search.string?"/"+this.state.search.string:"";switch(this.state.mode){case"u":window.location.href=window.location.origin+"/u/"+this.state.user.name+"/"+this.state.curUserPage+t;break;case"default":window.location.href=window.location.origin+"/"+this.state.curPage+t;break;case"track":window.location.href=window.location.origin+"/track/"+this.decToAlpha(this.state.curTrack)+"/"+(this.state.curPage+2)+t;break}},playNextTrack:function(){var t,e,a,s=this;if(this.currentPlayingTracks.length?(t=this.currentPlayingTracks[0].id,e=this.currentPlayingTracks[0].idx,this.currentPlayingTracks[0].mp3.currentTime=0,this.currentPlayingTracks[0].playing=!1):t=-1,this.state.search.string)this.state.search.audiocloudTracks.length&&(-1==t?this.state.shuffle?(this.state.search.audiocloudTracks[a=Math.random()*this.state.search.audiocloudTracks.length|0].playing=!0,this.state.curPlayId=this.state.search.audiocloudTracks[a].id,this.state.search.audiocloudTracks[a].jump++):(this.state.search.audiocloudTracks[0].playing=!0,this.state.curPlayId=this.state.search.audiocloudTracks[0].id,this.state.search.audiocloudTracks[0].jump++):this.state.search.audiocloudTracks.map((function(a,n){if(a.id==t)if(s.state.shuffle){var o;while((o=Math.random()*s.state.search.audiocloudTracks.length|0)==e&&s.state.search.audiocloudTracks.length>1);s.state.search.audiocloudTracks[o].playing=!0,s.state.curPlayId=s.state.search.audiocloudTracks[o].id,s.state.search.audiocloudTracks[o].jump++}else n<s.state.search.audiocloudTracks.length-1?(s.state.search.audiocloudTracks[n+1].playing=!0,s.state.curPlayId=s.state.search.audiocloudTracks[n+1].id,s.state.search.audiocloudTracks[n+1].jump++):(s.state.search.audiocloudTracks[0].playing=!0,s.state.curPlayId=s.state.search.audiocloudTracks[0].id,s.state.search.audiocloudTracks[0].jump++)})));else switch(this.state.mode){case"u":var n;if(this.filteredUserTracks.length)if(-1==t)if(this.state.shuffle)this.filteredUserTracks[n=Math.random()*this.filteredUserTracks.length|0].playing=!0,this.filteredUserTracks[n].jump++,this.state.curPlayId=this.filteredUserTracks[n].id;else this.filteredUserTracks[0].playing=!0,this.filteredUserTracks[0].jump++;else this.filteredUserTracks.map((function(a,n){if(a.id==t)if(s.state.shuffle){var o;while((o=Math.random()*s.filteredUserTracks.length|0)==e&&s.filteredUserTracks.length>1);s.filteredUserTracks[o].playing=!0,s.state.curPlayId=s.filteredUserTracks[o].id,s.filteredUserTracks[o].jump++}else n<s.filteredUserTracks.length-1?(s.filteredUserTracks[n+1].playing=!0,s.state.curPlayId=s.filteredUserTracks[n+1].id,s.filteredUserTracks[n+1].jump++):(s.filteredUserTracks[0].playing=!0,s.state.curPlayId=s.filteredUserTracks[0].id,s.filteredUserTracks[0].jump++)}));break;case"track":this.state.tracks[0].playing=!0;break;case"embed":this.state.tracks[0].playing=!0;break;case"default":var o;if(this.state.landingPage.audiocloudTracks.length)if(-1==t)if(this.state.shuffle)this.state.landingPage.audiocloudTracks[o=Math.random()*this.state.landingPage.audiocloudTracks.length|0].playing=!0,this.state.landingPage.audiocloudTracks[o].jump++,this.state.curPlayId=this.state.landingPage.audiocloudTracks[o].id;else this.state.landingPage.audiocloudTracks[0].playing=!0,this.state.curPlayId=this.state.landingPage.audiocloudTracks[0].id,this.state.landingPage.audiocloudTracks[0].jump++;else this.state.landingPage.audiocloudTracks.map((function(a,n){if(a.id==t)if(s.state.shuffle){var o;while((o=Math.random()*s.state.landingPage.audiocloudTracks.length|0)==e&&s.state.landingPage.audiocloudTracks.length>1);s.state.landingPage.audiocloudTracks[o].playing=!0,s.state.curPlayId=s.state.landingPage.audiocloudTracks[o].id,s.state.landingPage.audiocloudTracks[o].jump++}else n<s.state.landingPage.audiocloudTracks.length-1?(s.state.landingPage.audiocloudTracks[n+1].playing=!0,s.state.curPlayId=s.state.landingPage.audiocloudTracks[n+1].id,s.state.landingPage.audiocloudTracks[n+1].jump++):(s.state.landingPage.audiocloudTracks[0].playing=!0,s.state.curPlayId=s.state.landingPage.audiocloudTracks[0].id,s.state.landingPage.audiocloudTracks[0].jump++)}));break}},playPauseCurrentTrack:function(){var t,e=this;if(this.state.curPlayId||this.playNextTrack(),this.state.search.string)t=this.state.search.audiocloudTracks.filter((function(t){return t.id==e.state.curPlayId}))[0],"undefined"!=typeof t&&(t.playing=!t.playing);else switch(this.state.mode){case"u":t=this.state.user.audiocloudTracks.filter((function(t){return t.id==e.state.curPlayId}))[0],"undefined"!=typeof t&&(t.playing=!t.playing);break;case"track":t=this.state.tracks.filter((function(t){return t.id==e.state.curPlayId}))[0],"undefined"!=typeof t&&(t.playing=!t.playing);break;case"embed":t=this.state.tracks.filter((function(t){return t.id==e.state.curPlayId}))[0],"undefined"!=typeof t&&(t.playing=!t.playing);break;case"default":t=this.state.landingPage.audiocloudTracks.filter((function(t){return t.id==e.state.curPlayId}))[0],"undefined"!=typeof t&&(t.playing=!t.playing);break}},playPreviousTrack:function(){var t,e,a,s=this;if(this.currentPlayingTracks.length?(t=this.currentPlayingTracks[0].id,e=this.currentPlayingTracks[0].idx,this.currentPlayingTracks[0].mp3.currentTime=0,this.currentPlayingTracks[0].playing=!1):t=-1,this.state.search.string)this.state.search.audiocloudTracks.length&&(-1==t?this.state.shuffle?(this.state.search.audiocloudTracks[a=Math.random()*this.state.search.audiocloudTracks.length|0].playing=!0,this.state.search.audiocloudTracks[a].jump++):(this.state.search.audiocloudTracks[0].playing=!0,this.state.search.audiocloudTracks[0].jump++):this.state.search.audiocloudTracks.map((function(a,n){if(a.id==t)if(s.state.shuffle){var o;while((o=Math.random()*s.state.search.audiocloudTracks.length|0)==e&&s.state.search.audiocloudTracks.length>1);s.state.search.audiocloudTracks[o].playing=!0,s.state.search.audiocloudTracks[o].jump++}else n?(s.state.search.audiocloudTracks[n-1].playing=!0,s.state.search.audiocloudTracks[n-1].jump++):(s.state.search.audiocloudTracks[s.state.search.audiocloudTracks.length-1].playing=!0,s.state.search.audiocloudTracks[s.state.search.audiocloudTracks.length-1].jump++)})));else switch(this.state.mode){case"u":var n;if(this.filteredUserTracks.length)if(-1==t)if(this.state.shuffle)this.filteredUserTracks[n=Math.random()*this.filteredUserTracks.length|0].playing=!0,this.filteredUserTracks[n].jump++;else this.filteredUserTracks[0].playing=!0,this.filteredUserTracks[0].jump++;else this.filteredUserTracks.map((function(a,n){if(a.id==t)if(s.state.shuffle){var o;while((o=Math.random()*s.filteredUserTracks.length|0)==e&&s.filteredUserTracks.length>1);s.filteredUserTracks[o].playing=!0,s.filteredUserTracks[o].jump++}else n?(s.filteredUserTracks[n-1].playing=!0,s.filteredUserTracks[n-1].jump++):(s.filteredUserTracks[s.filteredUserTracks.length-1].playing=!0,s.filteredUserTracks[s.filteredUserTracks.length-1].jump++)}));break;case"track":this.state.tracks[0].playing=!0;break;case"embed":this.state.tracks[0].playing=!0;break;case"default":var o;if(this.state.landingPage.audiocloudTracks.length)if(-1==t)if(this.state.shuffle)this.state.landingPage.audiocloudTracks[o=Math.random()*this.state.landingPage.audiocloudTracks.length|0].playing=!0,this.state.landingPage.audiocloudTracks[o].jump++;else this.state.landingPage.audiocloudTracks[0].playing=!0,this.state.landingPage.audiocloudTracks[0].jump++;else this.state.landingPage.audiocloudTracks.map((function(a,n){if(a.id==t)if(s.state.shuffle){var o;while((o=Math.random()*s.state.landingPage.audiocloudTracks.length|0)==e&&s.state.landingPage.audiocloudTracks.length>1);s.state.landingPage.audiocloudTracks[o].playing=!0,s.state.landingPage.audiocloudTracks[o].jump++}else n?(s.state.landingPage.audiocloudTracks[n-1].playing=!0,s.state.landingPage.audiocloudTracks[n-1].jump++):(s.state.landingPage.audiocloudTracks[s.state.landingPage.audiocloudTracks.length-1].playing=!0,s.state.landingPage.audiocloudTracks[s.state.landingPage.audiocloudTracks.length-1].jump++)}));break}},doSearch:function(t,e){var a=this;this.state.search.audiocloudTracks=[],this.state.search.timerHandle=null;var s={string:t.trim(),loggedinUserName:this.state.loggedinUserName,page:this.state.curPage,allWords:this.state.search.allWords,exact:this.state.search.exact,passhash:this.state.passhash,maxResultsPerPage:this.state.maxResultsPerPage};this.state.exactClicked=!0,fetch(this.state.baseURL+"/search.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(t){return t.json()})).then((function(t){switch(t[0]=t[0].map((function(t){return t.playing=!1,t.private=!!+t.private,t.allowDownload=!!+t.allowDownload,a.state.incrementViews(t.id),a.state.loadUserData(t.author),t.comments=t.comments.map((function(t){return t.updated=!1,t.editing=!1,a.state.fetchUserData(t.userID),t})),t})),a.state.search.string&&(a.state.search.hits=+t[3]),a.state.search.audiocloudTracks=t[0],a.state.mode){case"u":a.state.totalUserPages=+t[1],a.state.curUserPage&&a.state.curUserPage+1>a.state.totalUserPages&&a.lastPage();break;case"default":a.state.totalPages=+t[1],a.state.curPage&&a.state.curPage+1>a.state.totalPages&&a.lastPage();break;case"track":a.state.totalPages=+t[1],a.state.curPage&&a.state.curPage+1>a.state.totalPages&&a.lastPage();break;case"embed":a.state.totalPages=+t[1],a.state.curPage&&a.state.curPage+1>a.state.totalPages&&a.lastPage();break}a.state.loaded=!0,a.state.playall&&a.playNextTrack(),a.state.search.inProgress=!1}))},beginSearch:function(t){var e=this;if(" "!=this.state.search.string.charAt(0)){this.state.search.inProgress=!0,t?(history.pushState(null,null,window.location.origin+"/1"+(this.state.search.string?"/":"")+this.state.search.string),this.state.curPage=0):history.pushState(null,null,window.location.origin+"/"+(this.state.curPage+1)+"/"+this.state.search.string);var a=(new Date).getTime();null!=this.state.search.timerHandle&&clearTimeout(this.state.search.timerHandle);var s=this.state.search.string;this.state.search.timerHandle=setTimeout((function(){e.doSearch(s,t),e.state.search.timer=a}),Math.min(1e3,a-this.state.search.timer))}else this.state.search.string=this.state.search.string.trim()},loadHotKeys:function(){var t=this;window.addEventListener("keydown",(function(e){if(27==e.keyCode&&t.state.showControlsToggleTimer<(new Date).getTime()&&(t.state.showControlsToggleTimer=(new Date).getTime()+100,e.preventDefault(),e.stopPropagation(),t.toggleShowControls()),13==e.keyCode&&"track"!==t.state.mode&&"embed"!==t.state.mode&&(document.activeElement.classList.contains("textInput")||(e.preventDefault(),e.stopPropagation(),t.state.jumpToPlayingTrack())),37==e.keyCode&&!document.activeElement.classList.contains("textInput")){e.preventDefault(),e.stopPropagation();var a,s=t.currentPlayingTracks;if(e.shiftKey)(a=t.currentPlayingTracks).length&&(a[0].mp3.currentTime=Math.max(0,a[0].mp3.currentTime-10));else s.length&&s[0].mp3.currentTime>s[0].mp3.duration/20?s[0].mp3.currentTime=0:t.state.playPreviousTrack()}var n;39==e.keyCode&&(document.activeElement.classList.contains("textInput")||(e.preventDefault(),e.stopPropagation(),e.shiftKey?(n=t.currentPlayingTracks).length&&(n[0].mp3.currentTime=Math.min(n[0].mp3.duration,n[0].mp3.currentTime+10)):t.state.playNextTrack()));32==e.keyCode&&(document.activeElement.classList.contains("textInput")||(e.preventDefault(),e.stopPropagation(),t.state.playPauseCurrentTrack()))}))},jumpToPlayingTrack:function(){var t;(t=this.state.currentTrack()).length&&t[0].jump++},currentTrack:function(){if(this.state.search.string)return this.state.search.audiocloudTracks.filter((function(t){return t.playing}));switch(this.state.mode){case"u":return this.filteredUserTracks.filter((function(t){return t.playing}));case"track":return this.state.tracks.filter((function(t){return t.playing}));case"embed":return this.state.tracks.filter((function(t){return t.playing}));case"default":return this.state.landingPage.audiocloudTracks.filter((function(t){return t.playing}))}}},computed:{currentPlayingTracks:function(){if(this.state.search.string)return this.state.search.audiocloudTracks=this.state.search.audiocloudTracks.map((function(t,e){return t.idx=e,t})),this.state.search.audiocloudTracks.filter((function(t){return t.playing})).length&&(this.state.curPlayId=this.state.search.audiocloudTracks.filter((function(t){return t.playing}))[0].id),this.state.search.audiocloudTracks.filter((function(t){return t.playing}));switch(this.state.mode){case"u":return this.state.user.audiocloudTracks=this.state.user.audiocloudTracks.map((function(t,e){return t.idx=e,t})),this.filteredUserTracks.filter((function(t){return t.playing})).length&&(this.state.curPlayId=this.filteredUserTracks.filter((function(t){return t.playing}))[0].id),this.filteredUserTracks.filter((function(t){return t.playing}));case"track":return this.state.tracks.filter((function(t){return t.playing})).length&&(this.state.curPlayId=this.state.tracks.filter((function(t){return t.playing}))[0].id),this.state.tracks.filter((function(t){return t.playing}));case"embed":return this.state.tracks.filter((function(t){return t.playing})).length&&(this.state.curPlayId=this.state.tracks.filter((function(t){return t.playing}))[0].id),this.state.tracks.filter((function(t){return t.playing}));case"default":return this.state.landingPage.audiocloudTracks=this.state.landingPage.audiocloudTracks.map((function(t,e){return t.idx=e,t})),this.state.landingPage.audiocloudTracks.filter((function(t){return t.playing})).length&&(this.state.curPlayId=this.state.landingPage.audiocloudTracks.filter((function(t){return t.playing}))[0].id),this.state.landingPage.audiocloudTracks.filter((function(t){return t.playing}))}},filteredUserTracks:function(){var t=this;return null!=this.state.user&&"undefined"!==typeof this.state.user.audiocloudTracks?this.state.user.audiocloudTracks.filter((function(e){return!e.private||t.state.loggedinUserName.toUpperCase()==t.state.user.name.toUpperCase()||t.state.isAdmin})):[]}},watch:(Mn={"state.search.string":function(t){t||(this.state.search.hits=0)},"state.search.exact":function(t){document.cookie="exactSearch="+this.state.search.exact+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},"state.search.allWords":function(t){document.cookie="allWords="+this.state.search.allWords+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain},"state.shuffle":function(t){}},Object(c["a"])(Mn,"state.shuffle",(function(t){document.cookie="shuffle="+this.state.shuffle+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain})),Object(c["a"])(Mn,"state.playall",(function(t){t?this.state.loaded&&this.playNextTrack():this.state.pauseVisible(),document.cookie="autoplay="+this.state.playall+"; expires="+new Date(Date.now()+31536e8).toUTCString()+"; path=/; domain="+this.state.rootDomain})),Object(c["a"])(Mn,"state.showUploadModal",(function(t){document.getElementsByTagName("html")[0].style.overflow=t?"hidden":"initial"})),Mn),mounted:function(){var t=this;this.loadHotKeys(),setInterval((function(){t.state.globalT+=1/60}),16),this.state.userAgent=navigator.userAgent,this.state.playPauseCurrentTrack=this.playPauseCurrentTrack,this.state.toggleShowControls=this.toggleShowControls,this.state.filteredUserTracks=this.filteredUserTracks,this.state.jumpToPlayingTrack=this.jumpToPlayingTrack,this.state.playPreviousTrack=this.playPreviousTrack,this.state.showUserSettings=this.showUserSettings,this.state.showLoginPrompt=this.showLoginPrompt,this.state.incrementViews=this.incrementViews,this.state.openFullscreen=this.openFullscreen,this.state.fetchUserData=this.fetchUserData,this.state.playNextTrack=this.playNextTrack,this.state.closePrompts=this.closePrompts,this.state.pauseVisible=this.pauseVisible,this.state.loadUserData=this.loadUserData,this.state.checkEnabled=this.checkEnabled,this.state.currentTrack=this.currentTrack,this.state.advancePage=this.advancePage,this.state.beginSearch=this.beginSearch,this.state.regressPage=this.regressPage,this.state.toggleLogin=this.toggleLogin,this.state.jumpToPage=this.jumpToPage,this.state.decToAlpha=this.decToAlpha,this.state.alphaToDec=this.alphaToDec,this.state.firstPage=this.firstPage,this.state.setCookie=this.setCookie,this.state.getAvatar=this.getAvatar,this.state.lastPage=this.lastPage,this.state.goHome=this.goHome,this.state.logout=this.logout,this.state.login=this.login,this.checkLogin();var e=(new Date).getTime();setInterval((function(){if(t.state.disco){var a=((new Date).getTime()-e)/10+200;document.getElementsByTagName("body")[0].style.backgroundColor="hsla(".concat(a,", 99%, 3%, 1)"),"embed"!==t.state.mode&&(document.getElementById("header").style.background="linear-gradient(90deg, hsla(".concat(a,", 99%, 1%, .9), hsla(").concat(a,", 60%, 15%, .8)")),document.getElementById("footerBar").style.background="linear-gradient(90deg, hsla(".concat(a,", 99%, 1%, 1), hsla(").concat(a,", 60%, 5%, .7)")}}),100),this.preloadImages=["https://jsbot.cantelope.org/uploads/2ftyk1.png","https://jsbot.cantelope.org/uploads/BGNlv.png","https://jsbot.cantelope.org/uploads/FU3vq.png","https://jsbot.cantelope.org/uploads/zAYeB.png","https://jsbot.cantelope.org/uploads/XeGsK.png","https://jsbot.cantelope.org/uploads/XeGsK.png","https://jsbot.cantelope.org/uploads/ct1hv.png","https://jsbot.cantelope.org/uploads/2kPCX5.png","https://jsbot.cantelope.org/uploads/14MAyj.png","https://jsbot.cantelope.org/uploads/20SIWe.png","https://jsbot.cantelope.org/uploads/6aevA.png","https://jsbot.cantelope.org/uploads/1RptlQ.png","https://jsbot.cantelope.org/uploads/v9UDT.png","https://jsbot.cantelope.org/uploads/1tgOjR.png"],this.preloadImages.map((function(t){var e=new Image;return e.src=t,t}))}};a("9f6e");En.render=r;var Vn=En,Fn=Object(s["c"])(Vn);Fn.directive("linkified",o.a),Fn.mount("#app")},5937:function(t,e,a){},"615e":function(t,e,a){},"8c59":function(t,e,a){},"939c":function(t,e){t.exports="data:image/png;base64,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"},"9afb":function(t,e,a){t.exports=a.p+"img/email.81f8a513.png"},"9b23":function(t,e,a){},"9dd5":function(t,e,a){"use strict";a("8c59")},"9f6e":function(t,e,a){"use strict";a("ed2d")},ad28:function(t,e,a){"use strict";a("39e6")},ad78:function(t,e,a){},af21:function(t,e,a){"use strict";a("d5cb")},cafa:function(t,e,a){"use strict";a("044e")},d5cb:function(t,e,a){},dda3:function(t,e,a){"use strict";a("ad78")},e8ae:function(t,e,a){"use strict";a("49d7")},ed2d:function(t,e,a){},edbf:function(t,e){t.exports="data:image/png;base64,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"}});
//# sourceMappingURL=app.9dcbf823.js.map